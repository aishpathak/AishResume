<form [formGroup]="form">
    <ngc-titlebar title="export.handling.master.data.title"></ngc-titlebar>
    <ngc-container type="section">
        <ngc-row>
            <ngc-column column="2">
                <ngc-label label="flightViewDashboard.dateOffice"></ngc-label>
                <div>
                    <ngc-dropdownlist accessEnableOn="r" sourceId="CDH$CDH_Terminal" formControlName="office" [width]="140"
                        [valueMember]="'code'"  [displayMember]="'desc'" [noBlank]="true" required>
                    </ngc-dropdownlist>
                </div>
            </ngc-column>
            <ngc-column column="2">
                <ngc-label label="g.carrierCode" shortcutFor="carrierCode"></ngc-label>
                <div>
                    <ngc-lov accessEnableOn="r" formControlName="carrierCode" [width]="90" upperCase="true" noCache="true"
                        sourceId='CARRIER_OPT' title='flight.carrierType' dataField="code" displayMember="code">
                        <ngc-data-column text="g.carrier" dataField="code" [width]="100"></ngc-data-column>
                        <ngc-data-column text="g.description" dataField="desc" [width]="150"></ngc-data-column>
                        <ngc-data-column text="flight.assisted" dataField="param1" [width]="200"></ngc-data-column>
                    </ngc-lov>
                </div>
            </ngc-column>
            <ngc-column column="1">
                <br>
                <div>
                    <ngc-button accessEnableOn="r" (click)="onSearch()" value="g.search" iconType=search>
                    </ngc-button>
                </div>
            </ngc-column>
            <ngc-column column="1">
                <br>
                <div>
                    <ngc-button value="addRow" (click)="onEditAndAdd($event)" *ngIf='showData'></ngc-button>
                </div>
            </ngc-column>
            <ngc-column column="1">
                <br>
                <div>
                    <ngc-button value="docMaster.delete" (click)="onDelete()" *ngIf='showData'></ngc-button>
                </div>
            </ngc-column>
        </ngc-row>
    </ngc-container>

    <ngc-container type="box" *ngIf='showData'>
        <ngc-row>
            <ngc-column>
                <ngc-table style="height:500px; overflow: scroll; display: block;">
                    <thead>
                        <tr>
                            <th></th>
                            <th>
                                <ngc-label label="g.carrier"></ngc-label>
                            </th>
                            <th>
                                <ngc-label label="g.office"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.pax.frtr"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.verify.br.required"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.nil.br.pouch.br.required"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.lbl.br.print.br.std.r"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.lbl.br.print.br.std.o"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.received.br.std.r"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.received.br.std.o"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.manf.br.final.std.r"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.manf.br.final.std.o"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.dls.br.final.std.r"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.dls.br.final.std.o"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.pouch.br.start.std.r"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.pouch.br.start.std.o"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.pouch.br.comp.std.r"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.pouch.br.comp.std.o"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.checkout.br.std.r"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.checkout.br.std.o"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.dlv.br.ac.std.r"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.dlv.br.ac.std.o"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.start.br.pouch.br.std.x"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.reverify.br.std.x"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMaster.notify.br.disc"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMastercheckout.dlv.1"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMastercheckout.dlv.2"></ngc-label>
                            </th>
                            <th>
                                <ngc-label value="docMastercheckout.dlv.3"></ngc-label>
                            </th>
                        </tr>
                    </thead>
                    <tbody formArrayName="resultList">
                        <tr *ngFor="let item of form.get('resultList').controls; let index=index"
                            [formGroupName]="index">
                            <td class="text-center">
                                <ngc-checkbox formControlName="sel"></ngc-checkbox>
                                <ngc-link (linkClick)="onEditAndAdd(index)">
                                    <ngc-icon type="edit" value="true" true-color="grey"></ngc-icon>
                                    <!-- <p>Edit</p> -->
                                </ngc-link>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="flightCarrier"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="office"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="paxFreighter"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="veriRequired"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="nilPouchRequired"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="lblPrintRed"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="lblPrintOrg"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="docReceivedRed"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="docReceivedOrg"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="maniFinalRed"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="maniFinalOrg"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="dlsFinalRed"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="dlsFinalOrg"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="pouchStartRed"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="pouchStartOrg"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="pouchCompRed"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="pouchCompOrg"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="chkoutRed"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="chkoutOrg"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="deliACRed"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="deliACOrg"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="pouchStartX"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="reVerificationX"></ngc-display>
                            </td>
                            <td class="text-center">
                                <ngc-display formControlName="notifyFltDisc"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="dlvTo1"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="dlvTo2"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="dlvTo3"></ngc-display>
                            </td>
                        </tr>
                    </tbody>
                </ngc-table>
            </ngc-column>
        </ngc-row>
    </ngc-container>
</form>

<form [formGroup]='editForm'>
    <ngc-window #editWindow [width]="1000" [height]="550" title="g.add.update">
        <ngc-container type="box">
            <ngc-row>
                <ngc-column>
                    <ngc-label label="g.carrier"></ngc-label>
                    <div>
                        <!-- <ngc-display  formControlName="flightCarrier"></ngc-display> -->
                        <ngc-lov required formControlName="flightCarrier" [width]="70" upperCase="true" noCache="true"
                            sourceId='CARRIER_OPT' title='flight.carrierType' dataField="code" displayMember="code">
                            <ngc-data-column text="g.carrier" dataField="code" [width]="100"></ngc-data-column>
                            <ngc-data-column text="g.description" dataField="desc" [width]="150">
                            </ngc-data-column>
                        </ngc-lov>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="g.office"></ngc-label>
                    <div>
                        <ngc-dropdownlist sourceId="CDH$CDH_Terminal" formControlName="office" [width]="70"
                            [valueMember]="'code'"  [displayMember]="'desc'" [noBlank]="true" required>
                        </ngc-dropdownlist>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMaster.pax.frtr"></ngc-label>
                    <div>
                        <ngc-dropdownlist sourceId="Flight$Flight_Type" formControlName="paxFreighter" [width]="70"
                            [valueMember]="'code'"  [displayMember]="'desc'" [noBlank]="true" required>
                        </ngc-dropdownlist>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMaster.verify.required"></ngc-label>
                    <div>
                        <ngc-dropdownlist sourceId="General$YesNoFlag" formControlName="veriRequired" [width]="70"
                            [valueMember]="'code'"  [displayMember]="'desc'" [noBlank]="true" required>
                        </ngc-dropdownlist>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMaster.nil.pouch.required"></ngc-label>
                    <div>
                        <ngc-dropdownlist sourceId="General$YesNoFlag" formControlName="nilPouchRequired" [width]="70"
                            [valueMember]="'code'"  [displayMember]="'desc'" [noBlank]="true" required>
                        </ngc-dropdownlist>
                    </div>
                </ngc-column>
            </ngc-row>

            <ngc-row>
                <ngc-column>
                    <ngc-label label=""></ngc-label>
                </ngc-column>
            </ngc-row>

            <ngc-row>
                <ngc-column>
                    <ngc-label label="docMaster.label.print.std.r"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="lblPrintRed" digits="5" decimalDigits="0"
                            [width]="70" required>
                        </ngc-numberinput>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMaster.label.print.std.o"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="lblPrintOrg" digits="5" decimalDigits="0"
                            [width]="70" required>
                        </ngc-numberinput>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMaster.received.std.r"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="docReceivedRed" digits="5"
                            decimalDigits="0" [width]="70" required>
                        </ngc-numberinput>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMaster.received.std.o"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="docReceivedOrg" digits="5"
                            decimalDigits="0" [width]="70" required>
                        </ngc-numberinput>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMaster.manf.final.std.r"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="maniFinalRed" digits="5" decimalDigits="0"
                            [width]="70" required>
                        </ngc-numberinput>
                    </div>
                </ngc-column>
            </ngc-row>

            <ngc-row>
                <ngc-column>
                    <ngc-label label=""></ngc-label>
                </ngc-column>
            </ngc-row>

            <ngc-row>
                <ngc-column>
                    <ngc-label label="docMaster.manf.final.std.o"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="maniFinalOrg" digits="5" decimalDigits="0"
                            [width]="70" required>
                        </ngc-numberinput>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMaster.dls.final.std.r"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="dlsFinalRed" digits="5" decimalDigits="0"
                            [width]="70" required>
                        </ngc-numberinput>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMaster.dls.final.std.o"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="dlsFinalOrg" digits="5" decimalDigits="0"
                            [width]="70" required>
                        </ngc-numberinput>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMaster.pouch.start.std.r"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="pouchStartRed" digits="5" decimalDigits="0"
                            [width]="70" required>
                        </ngc-numberinput>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMaster.pouch.start.std.o"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="pouchStartOrg" digits="5" decimalDigits="0"
                            [width]="70" required>
                        </ngc-numberinput>
                    </div>
                </ngc-column>
            </ngc-row>

            <ngc-row>
                <ngc-column>
                    <ngc-label label=""></ngc-label>
                </ngc-column>
            </ngc-row>

            <ngc-row>
                <ngc-column>
                    <ngc-label label="docMaster.pouch.comp.std.r"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="pouchCompRed" digits="5" decimalDigits="0"
                            [width]="70" required>
                        </ngc-numberinput>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMaster.pouch.comp.std.o"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="pouchCompOrg" digits="5" decimalDigits="0"
                            [width]="70" required>
                        </ngc-numberinput>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMastercheckout.std.r"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="chkoutRed" digits="5" decimalDigits="0"
                            [width]="70" required>
                        </ngc-numberinput>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMastercheckout.std.o"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="chkoutOrg" digits="5" decimalDigits="0"
                            [width]="70" required>
                        </ngc-numberinput>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMastercheckout.dlv.ac.std.r"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="deliACRed" digits="5" decimalDigits="0"
                            [width]="70" required>
                        </ngc-numberinput>
                    </div>
                </ngc-column>
            </ngc-row>

            <ngc-row>
                <ngc-column>
                    <ngc-label label=""></ngc-label>
                </ngc-column>
            </ngc-row>

            <ngc-row>
                <ngc-column>
                    <ngc-label label="docMastercheckout.dlv.ac.std.o"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="deliACOrg" digits="5" decimalDigits="0"
                            [width]="70" required>
                        </ngc-numberinput>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMastercheckout.start.pouch.after.std.x"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="pouchStartX" digits="5" decimalDigits="0"
                            [width]="70" required>
                        </ngc-numberinput>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMastercheckout.reverify.std.x"></ngc-label>
                    <div>
                        <ngc-numberinput negativeSymbol=" " formControlName="reVerificationX" digits="5"
                            decimalDigits="0" [width]="70" required></ngc-numberinput>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMastercheckout.notify.disc"></ngc-label>
                    <div>
                        <ngc-dropdownlist sourceId="General$YesNoFlag" formControlName="notifyFltDisc" [width]="70"
                            [valueMember]="'code'"  [displayMember]="'desc'" [noBlank]="true" required>
                        </ngc-dropdownlist>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMastercheckout.dlv.1"></ngc-label>
                    <div>
                        <ngc-dropdownlist formControlName="dlvTo1"  [width]='170'
                             sourceId="Delivery_Type$Delivery_Type_List"  [valueMember]="'code'"
                             [displayMember]="'desc'"></ngc-dropdownlist>
                    </div>
                </ngc-column>
            </ngc-row>

            <ngc-row>
                <ngc-column>
                    <ngc-label label=""></ngc-label>
                </ngc-column>
            </ngc-row>

            <ngc-row>
                <ngc-column>
                    <ngc-label label="docMastercheckout.dlv.2"></ngc-label>
                    <div>
                        <ngc-dropdownlist formControlName="dlvTo2"  [width]='170'
                             sourceId="Delivery_Type$Delivery_Type_List"  [valueMember]="'code'"
                             [displayMember]="'desc'"></ngc-dropdownlist>
                    </div>
                </ngc-column>
                <ngc-column>
                    <ngc-label label="docMastercheckout.dlv.3"></ngc-label>
                    <div>
                        <ngc-dropdownlist formControlName="dlvTo3"  [width]='170'
                             sourceId="Delivery_Type$Delivery_Type_List"  [valueMember]="'code'"
                             [displayMember]="'desc'"></ngc-dropdownlist>
                    </div>
                </ngc-column>
                <ngc-column>
                </ngc-column>
                <ngc-column>
                </ngc-column>
                <ngc-column>
                    <ngc-label label=""></ngc-label>
                    <div>
                        <ngc-button value="g.add.update" (click)="onUpdate()"></ngc-button>
                    </div>
                </ngc-column>
            </ngc-row>

        </ngc-container>
    </ngc-window>
</form>