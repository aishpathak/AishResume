<form [formGroup]="returnShipmentForm">
  <ngc-titlebar title='exp.returnShipmentTitle'></ngc-titlebar>
  <ngc-container type="header">
    <ngc-row>
      <ngc-column [column]="2">
        <ngc-label label="awbnumber"></ngc-label>
        <div>
          <ngc-input formControlName="shipmentNumber"></ngc-input>
        </div>
      </ngc-column>
      <ngc-column [column]="1">
        <ngc-label></ngc-label>
        <div>
          <ngc-button (click)='onSearch()' label='g.search' iconType="search" #searchbutton></ngc-button>
        </div>
      </ngc-column>
    </ngc-row>
  </ngc-container>
  <ngc-container type="section" *ngIf="isDataAvailable">
    <ngc-row>
      <ngc-column>
        <ngc-table>
          <thead>
            <tr>
              <th>
                <ngc-label label="awbnumber"></ngc-label>
              </th>
              <th>
                <ngc-label label="awb.origin"></ngc-label>
              </th>
              <th>
                <ngc-label label="awb.destination"></ngc-label>
              </th>
              <th>
                <ngc-label label="awb.pieces"></ngc-label>
              </th>
              <th>
                <ngc-label label="awb.weight"></ngc-label>
              </th>
              <th>
                <ngc-label label="awb.natureofgoods"></ngc-label>
              </th>
              <th>
                <ngc-label label="exp.shc"></ngc-label>
              </th>
              <th>
                <ngc-label label="exp.FirstBookedFlight"></ngc-label>
              </th>
              <th>
                <ngc-label label="export.flightDate"></ngc-label>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <ngc-display formControlName="shipmentNumber"></ngc-display>
              </td>
              <td>
                <ngc-display formControlName="origin"></ngc-display>
              </td>
              <td>
                <ngc-display formControlName="destination"></ngc-display>
              </td>
              <td>
                <ngc-piecesdisplay formControlName="pieces"></ngc-piecesdisplay>
              </td>
              <td>
                <ngc-weightdisplay formControlName="weight"></ngc-weightdisplay>
              </td>
              <td>
                <ngc-display formControlName="natureOfGoods"></ngc-display>
              </td>
              <td>
                <ngc-display formControlName="concatSHC"></ngc-display>
              </td>
              <td>
                <ngc-display formControlName="firstBookedFlight"></ngc-display>
              </td>
              <td>
                <ngc-display formControlName="firstBookedFlightDate"></ngc-display>
              </td>
            </tr>
          </tbody>
        </ngc-table>
      </ngc-column>
    </ngc-row>
  </ngc-container>




  <ngc-container type="section" *ngIf="isDataAvailable">
    <ngc-row>
      <ngc-column>
        <ngc-table>
          <thead>
            <tr>
              <th>
                <ngc-label label="awb.shipment.location"></ngc-label>
              </th>
              <th>
                <ngc-label label="awb.pieces"></ngc-label>
              </th>
              <th>
                <ngc-label label="g.weight"></ngc-label>
              </th>
              <th>
                <ngc-label label="awb.warehouse.location"></ngc-label>
              </th>
              <th>
                <ngc-label label="export.pieces.to.return"></ngc-label>
              </th>
              <th>
                <ngc-label label="export.weight.to.return"></ngc-label>
              </th>
            </tr>
          </thead>
          <tbody formArrayName="returnShipmentList">
            <tr *ngFor="let item of returnShipmentForm.controls.returnShipmentList.controls; let index=index" [formGroupName]="index">
              <td>
                <ngc-display formControlName="shipmentLocation"></ngc-display>
              </td>
              <td>
                <ngc-piecesdisplay formControlName="pieces"></ngc-piecesdisplay>
              </td>
              <td>
                <ngc-weightdisplay formControlName="weight"></ngc-weightdisplay>
              </td>
              <td>
                <ngc-display formControlName="warehouseLocation"></ngc-display>
              </td>
              <td>
                <ngc-piecesinput formControlName="piecesToReturn"></ngc-piecesinput>
              </td>
              <td>
                <ngc-weightinput formControlName="weightToReturn"></ngc-weightinput>
              </td>
            </tr>
          </tbody>
        </ngc-table>
      </ngc-column>
    </ngc-row>

  </ngc-container>



  <ngc-container type="section" *ngIf="isDataAvailable">

    <ngc-row>
      <ngc-column>
        <br>
      </ngc-column>
    </ngc-row>

    <ngc-row>

      <ngc-column column=1>
        <ngc-label label="exp.ReturnedTo"></ngc-label>
      </ngc-column>
      <ngc-column column="2">

        <ngc-label label="export.contractor.ic.airport.pass"></ngc-label>
        <div>
          <ngc-input formControlName="icCode" required></ngc-input>
        </div>
      </ngc-column>
      <ngc-column column="2">
        <!-- <ngc-column column="2" *ngIf="disableContractorICPass"> -->
        <ngc-label label="g.contractorName"></ngc-label>
        <div>
          <ngc-input formControlName="icName" required></ngc-input>
        </div>
      </ngc-column>
    </ngc-row>


    <ngc-row>
      <ngc-column>
        <br>
      </ngc-column>
    </ngc-row>

    <ngc-row>
      <ngc-column column=2>
        <ngc-label label="g.reason"></ngc-label>
      </ngc-column>
      <ngc-column column=2>
        <ngc-dropdownlist width="260" sourceId='REJECT_RETURN_REASON' sourceType='query' formControlName="reasonId" sourceType="query"></ngc-dropdownlist>
      </ngc-column>
      <ngc-column column="7"></ngc-column>
    </ngc-row>

    <ngc-row>
      <ngc-column>
        <br>
      </ngc-column>
    </ngc-row>
    <ngc-row>

      <ngc-column column=2>
        <ngc-label label="remarks"></ngc-label>
      </ngc-column>
      <ngc-column column=2>
        <ngc-input width="70" formControlName="remarks"></ngc-input>
      </ngc-column>
      <ngc-column column="7"></ngc-column>
    </ngc-row>

    <ngc-row>
      <ngc-column align="center">
        <ngc-button label='return' (click)="onReturn()" #returnButton></ngc-button>
      </ngc-column>
    </ngc-row>
  </ngc-container>
</form>