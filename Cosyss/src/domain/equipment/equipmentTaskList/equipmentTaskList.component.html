<ngc-titlebar title="equipment.tasklist" (clear)="onClear($event)" (cancel)="onBack($event)"
  (print)="tasklistreportgeneration()">
</ngc-titlebar>
<form [formGroup]="equipmentTasklistform">
  <ngc-container type='tab'>
    <ngc-row>
      <ngc-column column="1">
        <ngc-row>
          <ngc-column>
            <ngc-radiobutton accessEnableOn="r" groupName="sel" formControlName="collectionDatecriteria"
              checked="checked">
              <ngc-label label="equipment.collection.date"></ngc-label>
            </ngc-radiobutton>

          </ngc-column>
        </ngc-row>
        <ngc-row>
          <ngc-column>
            <ngc-radiobutton accessEnableOn="r" groupName="sel" formControlName="flightDatecriteria">
              <ngc-label label="g.FlightDate"></ngc-label>
            </ngc-radiobutton>
          </ngc-column>
        </ngc-row>
      </ngc-column>

      <ngc-column>
        <ngc-label label="g.fromDate"></ngc-label>
        <!--<ngc-datetimeinput formControlName="fromDate" [width]="100" required></ngc-datetimeinput>-->
        <div>
          <ngc-datetimeinput accessEnableOn="r" [width]="160" required showCalendarButton="true" midnight="true"
            showTimeButton="true" formControlName="fromDate" [min]="dateTo" [max]="dateToMax"></ngc-datetimeinput>
        </div>
      </ngc-column>
      <ngc-column>
        <ngc-label label="g.toDate"></ngc-label>
        <div>
          <!--<ngc-datetimeinput formControlName="toDate" [width]="100" required></ngc-datetimeinput>-->
          <ngc-datetimeinput accessEnableOn="r" [width]="160" required showCalendarButton="true" midnight="true"
            showTimeButton="true" formControlName="toDate" [min]="dateTo" [max]="dateToMax"></ngc-datetimeinput>
        </div>
      </ngc-column>
      <ngc-column>
        <ngc-label label="equipment.blocktime"></ngc-label>
        <div>
          <ngc-dropdownlist  accessEnableOn="r" sourceId='BLOCKTIME'  [width]="110"  sourceType='query'
             formControlName="blockTime"></ngc-dropdownlist>
        </div>
      </ngc-column>
      <ngc-column>
        <ngc-label label="g.terminal"></ngc-label>
        <div>
          <ngc-dropdownlist accessEnableOn="r" sourceId="WAREHOUSE_TERMINAL" [width]="110" sourceType='query'
            formControlName="terminaldesc"></ngc-dropdownlist>
        </div>
      </ngc-column>
      <ngc-column>
        <ngc-label label="g.carrier"></ngc-label>
        <div>
          <ngc-lov accessEnableOn="r" formControlName="carriercode" sourceId='CARRIER' title='export.airline' dataField='code'
            [width]="80" uppercase='true'>
            <ngc-data-column text="g.carrier" dataField="code" [width]="100"></ngc-data-column>
            <ngc-data-column text="g.description" dataField="desc" [width]="150"></ngc-data-column>
          </ngc-lov>
        </div>
      </ngc-column>
      <ngc-column>
        <ngc-label label="equipment.typeof.collection"></ngc-label>
        <div>
          <ngc-dropdownlist  accessEnableOn="r" sourceId='Equipment$TypeOfCollection'  [width]="110"
             formControlName="typeOfCollectiondesc"></ngc-dropdownlist>
        </div>
      </ngc-column>
      <ngc-column>
        <ngc-label label="equipment.agent"></ngc-label>
        <div>
          <!--<ngc-input formControlName="agent" [width]="90"></ngc-input>-->
          <ngc-lov accessEnableOn="r" formControlName="agent" [width]="70" sourceId="CUSTOMER_LIST"
            title="equipment.agent" dataField="code">
            <ngc-data-column text="equipment.agent" dataField="code" [width]="30"></ngc-data-column>
          </ngc-lov>
        </div>
      </ngc-column>
      <ngc-column>
        <ngc-label label="g.status"></ngc-label>
        <div>
          <ngc-dropdownlist accessEnableOn="r" formControlName="status" sourceId="Equipment$EquipStatus" [width]="110">
          </ngc-dropdownlist>
        </div>
      </ngc-column>
      <ngc-column>
        <ngc-label label="equipment.request.number"></ngc-label>
        <div>
          <ngc-input accessEnableOn="r" formControlName="requestTransactionNumber" [width]="110">
          </ngc-input>
        </div>
      </ngc-column>
      <ngc-column>
        <div>
          <ngc-label label=""></ngc-label>
        </div>
        <ngc-button accessEnableOn="r" label="g.search" (click)="onSearch()"></ngc-button>

      </ngc-column>
      <ngc-column column="1"></ngc-column>

    </ngc-row>
  </ngc-container>
</form>


<form [formGroup]="equipmentResponseTasklistform">
  <ngc-container type="tab">
    <ngc-row *ngIf="isTableFlg">
      <ngc-column column="1">
        <ngc-label label="g.terminal"></ngc-label>
        <div>
          <ngc-display formControlName="terminaldesc"></ngc-display>
        </div>
      </ngc-column>
      <ngc-column column="1">
        <ngc-label label="g.fromDate"></ngc-label>
        <div>
          <ngc-display formControlName="fromDate"></ngc-display>
        </div>
      </ngc-column>
      <ngc-column column="1">
        <ngc-label label="g.toDate"></ngc-label>
        <div>
          <ngc-display formControlName="toDate"></ngc-display>
        </div>
      </ngc-column>
      <ngc-column column="1">
        <ngc-label label="equipment.blocktime"></ngc-label>
        <div>
          <ngc-display formControlName="blockTime"></ngc-display>
        </div>
      </ngc-column>
      <ngc-column column="1">
        <ngc-label label="equipment.agent"></ngc-label>
        <div>
          <ngc-display formControlName="agent"></ngc-display>
        </div>

      </ngc-column>
      <ngc-column column="1">
        <ngc-label label="g.status"></ngc-label>
        <div>
          <ngc-display formControlName="status"></ngc-display>
        </div>

      </ngc-column>
      <ngc-column column="1.5">
        <ngc-label label="equipment.typeof.collection"></ngc-label>
        <div>
          <ngc-display formControlName="typeOfCollectiondesc"></ngc-display>
        </div>
      </ngc-column>
    </ngc-row>

  </ngc-container>

  <ngc-container *ngIf="isTableFlg" type="tab">
    <ngc-row>
      <ngc-column>
        <ngc-datatable (linkClick)="onLinkClick($event)" [pageable]="true" [pagerMode]="'advanced'"
          formArrayName="Tasklist" [showToolbar]="false" [enablePageSizeHeight]="false">
          <ngc-data-column text='g.check' type='check' dataField="select" [width]="100" cellsAlign="center"
            align="center"></ngc-data-column>
          <ngc-data-column text='g.terminal' dataField="terminaldesc" [width]="180" cellsAlign="left" align="left">
          </ngc-data-column>
          <ngc-data-column text='equipment.blocktime' dataField="blockTimedesc" [width]="300" cellsAlign="left"
            align="left">
          </ngc-data-column>
          <ngc-data-column text='equipment.requested.date' dataField="requestDate" type="displayDate" [width]="250">
          </ngc-data-column>
          <ngc-data-column text='equipment.export.import' dataField="shipmenttype" [width]="200" upperCase="true"
            cellsAlign="left" align="left"></ngc-data-column>
          <ngc-data-column text='g.flight' type="link" dataField="flightKey" [width]="180" align="left"
            cellsAlign="left">
          </ngc-data-column>
          <ngc-data-column text='g.date' dataField="flightDate" type="displayDate" [width]="180" cellsAlign="left"
            align="left"></ngc-data-column>
          <ngc-data-column text='equipment.sta.std' dataField="staOrStd" type="displayTime" [width]="180"
            cellsAlign="left" align="left"></ngc-data-column>
          <ngc-data-column text='equipment.agent' dataField="agent" [width]="100" cellsAlign="left" align="left">
          </ngc-data-column>
          <ngc-data-column text='equipment.typeof.collection' dataField="typeOfCollectiondesc" [width]="320"
            type="displayDateTime" cellsAlign="left" align="left"></ngc-data-column>
          <ngc-data-column text='equipment.numberof.ulds.pds' dataField="numberOfUlds" [width]="280" cellsAlign="left"
            align="left"></ngc-data-column>
          <ngc-data-column text='equipment.assigned.ulds' dataField="uldNumber" [width]="280" cellsAlign="left"
            align="left">
          </ngc-data-column>
          <ngc-data-column text='equipment.assigned.pds' dataField="pdNumber" [width]="280" cellsAlign="left"
            align="left">
          </ngc-data-column>
          <ngc-data-column text="equipment.request.number" dataField="requestTransactionNumber" [width]="120"
            cellsAlign="left" align="left">
          </ngc-data-column>
          <ngc-data-column text='g.status' dataField="status" [width]="200" cellsAlign="left" align="left" type="link"
            [cellsStyleRenderer]="cellsStyleRenderer"></ngc-data-column>
          <ngc-data-column text='equipment.sourceof.request' dataField="sourceOfRequest" [width]="250" cellsAlign="left"
            align="left"></ngc-data-column>
        </ngc-datatable>
      </ngc-column>
    </ngc-row>
  </ngc-container>
  <ngc-report  #reportWindow title="g.report"  reportId='tasklist'  [reportParameters]='reportParameters'></ngc-report>
</form>
<ngc-footer>
  <ngc-container type="tab">
    <ngc-row *ngIf="isTableFlg">
      <ngc-column>
        <ngc-button label="eqp.prepare" (click)="onPrepare($event)"></ngc-button>
        <ngc-button accessEnableOn="r" value="eqp.trip" (click)="onCreateTrip()"></ngc-button>
        <ngc-button accessEnableOn="r" value="eqp.release" (click)="onReleaseReturn()"></ngc-button>
      </ngc-column>
    </ngc-row>
  </ngc-container>
</ngc-footer>