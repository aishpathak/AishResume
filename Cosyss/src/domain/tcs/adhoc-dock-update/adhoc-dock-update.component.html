<form [formGroup]="adhocDockUpdateForm">
  <ngc-titlebar *ngIf="!popup" title="tcs.adhocDockUpdate" (save)="onSave()"></ngc-titlebar>
  <ng-container formGroupName="search">
    <ngc-container type="section">
      <ngc-row>
        <ngc-column [column]="1">
          <ngc-label label="tcs.dockNo"></ngc-label>
          <div>
            <ngc-lov [validOnly] formControlName="resourceId" dataField="code" displayField="desc" accessEnableOn="r"
              sourceId="Truck_Dock_No" [width]="75" required>
              <ngc-data-column text="tcs.truckDock" [width]="150" dataField="desc"></ngc-data-column>
            </ngc-lov>
          </div>
        </ngc-column>
        <ngc-column verticalAlign="bottom">
          <ngc-button label="search" accessEnableOn="r" (click)="onSearch()"></ngc-button>
        </ngc-column>
      </ngc-row>
    </ngc-container>
  </ng-container>
  <ng-container formGroupName="dockUpdate">
    <ngc-container *ngIf="onsearch" type="section">
      <ngc-row>
        <ngc-column [column]="2">
          <ngc-label label="tcs.purpose"></ngc-label>
        </ngc-column>
      </ngc-row>
      <ngc-row>
        <ngc-column [column]="2">
          <ngc-dropdownlist formControlName="firstPurpose" [dropDownWidth]="200" sourceId="INCOMING_PURPOSE"
            accessEnableOn="r" sourceType='query' required>
          </ngc-dropdownlist>
        </ngc-column>
        <ngc-column [column]="2">
          <ngc-dropdownlist formControlName="secondPurpose" [dropDownWidth]="200" sourceId="INCOMING_PURPOSE"
            accessEnableOn="r" sourceType='query'>
          </ngc-dropdownlist>
        </ngc-column>
        <ngc-column [column]="2">
          <ngc-dropdownlist formControlName="thirdPurpose" [dropDownWidth]="200" sourceId="INCOMING_PURPOSE"
            accessEnableOn="r" sourceType='query'>
          </ngc-dropdownlist>
        </ngc-column>
        <ngc-column [column]="2">
          <ngc-dropdownlist formControlName="fourthPurpose" [dropDownWidth]="200" sourceId="INCOMING_PURPOSE"
            accessEnableOn="r" sourceType='query'>
          </ngc-dropdownlist>
        </ngc-column>
        <ngc-column [column]="2">
          <ngc-dropdownlist formControlName="fifthPurpose" [dropDownWidth]="200" sourceId="INCOMING_PURPOSE"
            accessEnableOn="r" sourceType='query'>
          </ngc-dropdownlist>
        </ngc-column>
      </ngc-row>
      <ngc-row>
        <ngc-column>
          <ngc-label label="tcs.airline"></ngc-label>
          <div>
            <ngc-taginput accessEnableOn="r" formControlName="carrier" patternName="alphanum" [width]="50"
              sourceId='CARRIER' sourceCategory="lov" sourceType="query" valueMember="code" displayMember="code">
            </ngc-taginput>
          </div>
        </ngc-column>
      </ngc-row>
      <ngc-row>
        <ngc-column [column]="2">
          <ngc-label label="tcs.fltNo"></ngc-label>
          <div>
            <ngc-flightkeyinput formControlName='flightKey'></ngc-flightkeyinput>
          </div>
        </ngc-column>
        <ngc-column [column]="2">
          <ngc-label label="g.date"></ngc-label>
          <div>
            <ngc-dateinput formControlName="flightDate"></ngc-dateinput>
          </div>
        </ngc-column>
      </ngc-row>
      <ngc-row>
        <ngc-column column="2">
          <ngc-label label="g.destination"></ngc-label>
          <div>
            <ngc-lov accessEnableOn="r" sourceId="CITY" title="g.destination" formControlName="destination"
              dataField="code" [width]="60" [noValidation]="true" [maxlength]="3">
              <ngc-data-column text="g.code" dataField="code" [width]="50"></ngc-data-column>
              <ngc-data-column text="g.description" [width]="150" dataField="desc"></ngc-data-column>
            </ngc-lov>
          </div>
        </ngc-column>
        <ngc-column column="2">
          <ngc-label label="g.country"></ngc-label>
          <div>
            <ngc-lov accessEnableOn="r" formControlName="country" sourceId="COUNTRY" title="g.country" dataField="code"
              [width]="50" [noValidation]="true" [maxlength]="2">
              <ngc-data-column text="g.country" dataField="code" [width]="50"></ngc-data-column>
              <ngc-data-column text="g.description" [width]="150" dataField="desc"></ngc-data-column>
            </ngc-lov>
          </div>
        </ngc-column>
      </ngc-row>
      <ngc-row>
        <ngc-column>
          <ngc-label label="tcs.SPLCode"></ngc-label>
          <div>
            <ngc-shcinput formControlName="shc" dataField="shc"></ngc-shcinput>
          </div>
        </ngc-column>
      </ngc-row>
      <ngc-row>
        <ngc-column>
          <ngc-label label="tcs.xRayScreen"></ngc-label>
          <div>
            <ngc-checkbox type="checkbox" formControlName="xray"></ngc-checkbox>
          </div>
        </ngc-column>
      </ngc-row>
      <ngc-row>
        <ngc-column [column]="2">
          <ngc-label label="tcs.effectiveFrom"></ngc-label>
          <div>
            <ngc-datetimeinput accessEnableOn="r" formControlName="changeFromDateTime" [showCalendarButton]="true"
              [showTimeButton]="true" [width]="140" required>
            </ngc-datetimeinput>
          </div>
        </ngc-column>
        <ngc-column [column]="2">
          <ngc-label label="tcs.effectiveTill"></ngc-label>
          <div>
            <ngc-datetimeinput accessEnableOn="r" [min]="adhocDockUpdateForm.get('dockUpdate.changeFromDateTime').value"
              formControlName="changeTillDateTime" [showCalendarButton]="true" [showTimeButton]="true" [width]="140"
              required>
            </ngc-datetimeinput>
          </div>
        </ngc-column>
      </ngc-row>
    </ngc-container>
  </ng-container>
</form>