<form [formGroup]="truckAssignSearchForm">
  <ngc-titlebar title="tcs.truckAssignToSRF" (save)="onSaveTruckAssignSrf($event)" (clear)="onClear($event)"
    (cancel)="onCancel($event)">
  </ngc-titlebar>
  <ngc-container type="section">
    <ngc-row>
      <ngc-column column="2">
        <ngc-label label="tcs.vehicleNo"></ngc-label>
        <div>
          <ngc-input formControlName="vehicleNo" patternName="alphanum" sourceCategory="dropdown" sourceType="query"
            sourceId="TCS_VEHICLES" required (select)="vehicleNoChange($event)">
          </ngc-input>
        </div>
      </ngc-column>
      <ngc-column align="right">
        <ngc-label label=' '></ngc-label>
        <div>
          <ngc-button (click)="onSearch()" value="g.search" iconType="search" accessEnableOn="r"></ngc-button>
          <ngc-button value='g.addRow' iconType="add" (click)="onAddRow()"></ngc-button>
        </div>
      </ngc-column>
    </ngc-row>
  </ngc-container>
</form>

<form [formGroup]='truckAssignForm'>
  <ngc-container type="tab" *ngIf="isSearch">
    <ngc-row>
      <ngc-column column="6">
        <ngc-edittable formArrayName="truckAssignDetails">
          <ngc-data-column [width]="600" text="S No." align="center" dataField="select">
            <ng-template let-data let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                {{group + 1}}
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column [width]="600" text="SRF Number" align="center" dataField="srfNo">
            <ng-template let-data let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-input upperCase='true' [width]="600" required formControlName='srfNo' maxlength='65'>
                </ngc-input>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column [width]="80" text="g.delete" align="center" cellsAlign="center">
            <ng-template let-data let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-link (click)="deleteDetails(group)" iconType="delete"></ngc-link>
              </ng-container>
            </ng-template>
          </ngc-data-column>
        </ngc-edittable>
      </ngc-column>
    </ngc-row>
  </ngc-container>
</form>