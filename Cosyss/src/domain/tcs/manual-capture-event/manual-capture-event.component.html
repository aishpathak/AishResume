<form [formGroup]="manualCapture">
  <ngc-titlebar title="tcs.manualCaptureEvent" (save)="onSave()">
  </ngc-titlebar>
  <ngc-container type="section">
    <ngc-row>
      <ngc-column [column]="2">
        <ngc-label label="tcs.eventTime"></ngc-label>
        <div>
          <ngc-datetimeinput accessEnableOn="r" formControlName="timestamp" [showTimeButton]="true"
            [showCalendarButton]="true" [width]="140" required>
          </ngc-datetimeinput>
        </div>
      </ngc-column>
      <ngc-column [column]="2">
        <ngc-label label="tcs.checkpoint"></ngc-label>
        <div>
          <ngc-dropdownlist accessEnableOn="r" formControlName="device" sourceCategory="dropdown" sourceType="query"
            sourceId="TCS_CHECKPOINT" [width]="200" required>
          </ngc-dropdownlist>
        </div>
      </ngc-column>
    </ngc-row>
  </ngc-container>
  <ngc-container type="tab">
    <ngc-row>
      <ngc-column [column]="2">
        <ngc-label label="tcs.vehicleNo"></ngc-label>
        <div>
          <ngc-input accessEnableOn="r" formControlName="vehicleNo" patternName="alphanum" sourceCategory="dropdown"
            sourceType="query" sourceId="TCS_VEHICLES" [width]="150" required>
          </ngc-input>
        </div>
      </ngc-column>
      <ngc-column *ngIf="currentTrigger == 'OCCUPY' || currentTrigger == 'LEAVE'" [column]="2">
        <ngc-label label="tcs.truckDockNo"></ngc-label>
        <div>
          <ngc-lov accessEnableOn="r" formControlName="dockNo" displayField="desc" dataField="desc"
            sourceId="Truck_Dock_No" [width]="75" required>
            <ngc-data-column text="tcs.truckDock" [width]="150" dataField="desc"></ngc-data-column>
          </ngc-lov>
        </div>
      </ngc-column>
      <ngc-column *ngIf="purposeFlag" [column]="2">
        <ngc-label label="tcs.purpose"></ngc-label>
        <div>
          <ngc-dropdownlist accessEnableOn="r" formControlName="purpose" [width]="150" sourceId="INCOMING_PURPOSE"
            sourceType='query' (select)="onPurposeSelect($event)" required>
          </ngc-dropdownlist>
        </div>
      </ngc-column>
      <ngc-column *ngIf="purposeSelect == 'TENANT'" [column]="2">
        <ngc-label label="tcs.companyName"></ngc-label>
        <div>
          <ngc-lov accessEnableOn="r" formControlName="purposeCompanyId" displayField="desc" dataField="param1"
            sourceId="TCS_TENANT" [width]="250" required>
            <ngc-data-column text="tcs.companyCode" dataField="code" [width]="50"></ngc-data-column>
            <ngc-data-column text="tcs.companyName" [width]="150" dataField="desc"></ngc-data-column>
          </ngc-lov>
        </div>
      </ngc-column>
    </ngc-row>
  </ngc-container>
</form>