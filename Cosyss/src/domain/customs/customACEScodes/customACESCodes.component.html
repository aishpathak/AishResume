<form [formGroup]='customAcesForm'>
  <ngc-titlebar title='customs.flight.discrepancyList' (save)="onSave($event)" (delete)="onDelete($event)">
  </ngc-titlebar>

  <ngc-container type="sectiontop">
    <ngc-row>
      <ngc-column column=1>
        <ngc-label label='customs.aces.code'></ngc-label>
        <div>
          <ngc-dropdownlist [width]="90" [noCache]="true" formControlName="acescode" sourceId="Type$TracingType">
          </ngc-dropdownlist>
        </div>
      </ngc-column>

      <ngc-column column=1>
        <ngc-label label=''></ngc-label>
        <br>
        <div>
          <ngc-button label='customs.search' (click)="onSearchAcesCodes()" value="customs.search" iconType="search"
            #searchbutton></ngc-button>
        </div>
      </ngc-column>
    </ngc-row>
  </ngc-container>
  <ngc-container type="sectiontop">
    <ngc-row>
      <ngc-column [column]=6>

      </ngc-column>
      <ngc-column [column]="1">
        <ngc-column align="right">
          <ngc-button (click)="onAddRow()" [width]="100" value="g._add"></ngc-button>
        </ngc-column>

      </ngc-column>


    </ngc-row>
    <ngc-row>

      <ngc-column [column]=9>
        <ngc-table>
          <thead [height]="100">
            <th>
              <ngc-label label=''> </ngc-label>
            </th>
            <th>
              <ngc-label label='g.code'> </ngc-label>
            </th>
            <th>
              <ngc-label label='g.priority'> </ngc-label>
            </th>
            <th>
              <ngc-label label='customs.matched.unmatch'> </ngc-label>
            </th>
            <th>
              <ngc-label label='customs.displayType'> </ngc-label>
            </th>
            <th>
              <ngc-label label='g.description'> </ngc-label>
            </th>
            <th>
              <ngc-label label='customs.aed.exemption'> </ngc-label>
            </th>
            <th>
              <ngc-label label=''> </ngc-label>
            </th>
          </thead>
          <tbody formArrayName="customAces">
            <tr *ngFor="let record of customAcesForm.controls.customAces.controls let index=index"
              [formGroupName]="index">
              <td>
                <ngc-checkbox type="checkbox" formControlName="select"></ngc-checkbox>
              </td>
              <td>
                <ngc-display [width]="100" formControlName="code"></ngc-display>
              </td>
              <td>
                <ngc-display [width]="100" formControlName="priority" digits="4" decimalDigits="0"></ngc-display>
              </td>
              <td>
                <ngc-display [width]="90" formControlName="matchedunmatched" digits="4" decimalDigits="1"></ngc-display>
              </td>

              <td>
                <ngc-display [width]="100" formControlName="displaytype"></ngc-display>
              </td>
              <td>
                <ngc-display [width]="100" formControlName="description"></ngc-display>
              </td>
              <td>
                <ngc-checkbox type="checkbox" formControlName="aedexemption"></ngc-checkbox>
              </td>
              <td>
                <ngc-link (linkClick)="onLinkClick($evnet, index)" type="link" iconType="edit">

                </ngc-link>
              </td>
            </tr>

          </tbody>
        </ngc-table>
      </ngc-column>
    </ngc-row>

  </ngc-container>
  <form formGroupName="addPopup">
    <ngc-window #addPopup [width]="1200" title="customs.aecs.code" align='center'>
      <ngc-container type="section">
        <ngc-row>
          <ngc-column>
            <ngc-label label='g.code'></ngc-label>
            <div>
              <ngc-input formControlName="code"></ngc-input>
            </div>
          </ngc-column>
          <ngc-column>
            <ngc-label label='g.priority'></ngc-label>
            <div>
              <ngc-input formControlName="priority"></ngc-input>
            </div>
          </ngc-column>
          <ngc-column>
            <ngc-label label='customs.matched.unmatched'></ngc-label>
            <div>
              <ngc-dropdownlist formControlName="matchedunmatched"></ngc-dropdownlist>
            </div>
          </ngc-column>
          <ngc-column>
            <ngc-label label='customs.display.type'></ngc-label>
            <div>
              <ngc-dropdownlist formControlName="displaytype"></ngc-dropdownlist>
            </div>
          </ngc-column>
          <ngc-column>
            <ngc-label label='g.description'></ngc-label>
            <div>
              <ngc-input formControlName="description"></ngc-input>
            </div>
          </ngc-column>
          <ngc-column>
            <ngc-label label='customs.aedexemption'></ngc-label>
            <div>
              <ngc-checkbox type="checkbox" formControlName="aedexemption"></ngc-checkbox>
            </div>
          </ngc-column>
        </ngc-row>
      </ngc-container>
      <ngc-report #reportWindow title="g.report"  reportId='ACESCode'  [reportParameters]='reportParameters'>
      </ngc-report>
      <ngc-window-footer>
        <ngc-container type="tab">
          <ngc-row>
            <ngc-column align="right">
              <ngc-button (click)="onSave()" value="g.save"></ngc-button>
              <ngc-button (click)="OnCancel()" value="g.cancel"></ngc-button>
            </ngc-column>
          </ngc-row>
        </ngc-container>
      </ngc-window-footer>
    </ngc-window>


  </form>
</form>