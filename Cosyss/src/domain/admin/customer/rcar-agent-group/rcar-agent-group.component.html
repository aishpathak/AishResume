<ngc-titlebar title='admin.title.maintain.rcar.agent.group' (clear)="onClear($event)"></ngc-titlebar>
<form [formGroup]="rcarAgentGroupForm">
  <ngc-container type="tab">
    <ngc-row></ngc-row>
    <ngc-row></ngc-row>
    <ngc-row>
      <!--<ngc-column column="1">
      </ngc-column>-->
      <ngc-column column="2">
        <ngc-label label="admin.maintain.rcar.group.code"></ngc-label>
        <div>
          <ngc-lov accessEnableOn="r" [noCache]="true" formControlName="groupCode" placeHolder="admin.maintain.rcar.group.code" (select)='OnSelect($event)'
            sourceId="RCAR_GROUP" title="admin.maintain.rcar.group.code" dataField="code" valueMember='code' [width]="150">
            <ngc-data-column text="admin.maintain.rcar.group.code" dataField="code" [width]="50"></ngc-data-column>
            <ngc-data-column text="admin.maintain.rcar.group.description" dataField="desc" [width]="50"></ngc-data-column>
          </ngc-lov>
          <!--<ngc-input [width]="100" formControlName="groupCode"></ngc-input>-->
        </div>
      </ngc-column>
      <ngc-column column="2">
        <ngc-label label="admin.maintain.rcar.group.description"></ngc-label>
        <div>
          <ngc-lov accessEnableOn="r" [noCache]="true" formControlName="description" placeHolder="admin.maintain.rcar.group.description"
            (select)='OnSelectDescription($event)' sourceId="RCAR_GROUP" valueMember='desc' title="admin.maintain.rcar.group.description"
            dataField='desc' [width]="150">
            <ngc-data-column text="admin.maintain.rcar.group.code" dataField="code" [width]="50"></ngc-data-column>
            <ngc-data-column text="admin.maintain.rcar.group.description" dataField="desc" [width]="50"></ngc-data-column>
          </ngc-lov>
          <!--<ngc-input [width]="100" formControlName="description"></ngc-input>-->
        </div>
      </ngc-column>
      <ngc-column column="2">
        <ngc-label label="admin.maintain.rcar.status.code"></ngc-label>
        <div>
          <ngc-dropdownlist accessEnableOn="r" formControlName="statusCode" [all]='false' sourceId='RCAR_TYPES'
            sourceType='query' [multiSelect]="true" width="200%"></ngc-dropdownlist>
        </div>
      </ngc-column>

      <ngc-column column="2">
        <div>
          <ngc-label label=""></ngc-label>
        </div>
        <ngc-button accessEnableOn="r" value="g.search" (click)="onSearch()" iconType="search"></ngc-button>
      </ngc-column>
    </ngc-row>
    <ngc-row></ngc-row>
    <ngc-row></ngc-row>
    <ngc-row>
      <ngc-column column="9"></ngc-column>
      <ngc-column column="3">
        <ngc-button value="admin.rcar.add.agent.group" (click)="onAdd()" iconType="add"></ngc-button>
        <ngc-button (click)="deleteData($event)" iconType="Delete" value="g.delete"></ngc-button>
      </ngc-column>
    </ngc-row>
  </ngc-container>
  <ngc-container *ngIf="showButtons" type="tab">
    <ngc-row>
      <ngc-column>
        <ngc-datatable (linkClick)="onLinkClick($event)" [pageable]="true" [pagerMode]="'advanced'" formArrayName="searchList">
          <ngc-data-column text="g.select" dataField="scInd" [width]="70" type="check" align="center" cellsAlign="center"></ngc-data-column>
          <ngc-data-column text='admin.maintain.rcar.rcar.group' dataField="groupCode" [width]="270" upperCase="true" cellsAlign="left"
            align="left"></ngc-data-column>
          <ngc-data-column text='admin.maintain.rcar.rcar.group.description' dataField="description" [width]="500" upperCase="true"
            cellsAlign="left" align="left"></ngc-data-column>
          <ngc-data-column text='admin.maintain.rcar.rcar.group.status' dataField="statusCode" upperCase="true" [width]="240" align="left"
            cellsAlign="left"></ngc-data-column>
          <ngc-data-column text='g.last.updated.by' dataField="modifiedBy" [width]="300" upperCase="true" cellsAlign="left"
            align="left"></ngc-data-column>
          <ngc-data-column text='g.last.updated.on' dataField="modifiedOn" [width]="300" type="displayDate" upperCase="true"
            cellsAlign="left" align="left"></ngc-data-column>
          <ngc-data-column text='g.edit' dataField="EDIT" [width]="270" iconType='edit' type="link" cellsAlign="center"
            align="left">
          </ngc-data-column>
        </ngc-datatable>
      </ngc-column>
    </ngc-row>
  </ngc-container>

  <ngc-window #updateInsertionWindow [width]="900" [height]="300" title="admin.rcar.update.agent.group" [showCloseButton]="true">
    <ngc-container type="tab">
      <ngc-row>
        <ngc-column column="2">
          <ngc-label label="admin.maintain.rcar.agent.group.code"></ngc-label>
          <div>
            <ngc-display formControlName="groupUpdateCode"></ngc-display>
          </div>
        </ngc-column>
        <ngc-column column="5">
          <ngc-label label="admin.maintain.rcar.agent.group.description"></ngc-label>
          <div>
            <ngc-input width="200%" formControlName="updateDescription"></ngc-input>
          </div>
        </ngc-column>
        <ngc-column column="3">
          <ngc-label label="admin.maintain.rcar.status.code"></ngc-label>
          <div>
            <ngc-dropdownlist formControlName="statusUpdateCode" [all]='false' sourceId='RCAR_TYPES' sourceType='query'
              [multiSelect]="true" width="150%" required></ngc-dropdownlist>
          </div>
        </ngc-column>
      </ngc-row>
    </ngc-container>

    <ngc-container type="tab">
      <ngc-row>
        <ngc-column column="10"></ngc-column>
        <ngc-column column="2">
          <ngc-button (click)="update()" value="g.save"></ngc-button>
        </ngc-column>
      </ngc-row>
    </ngc-container>
  </ngc-window>
</form>


<form [formGroup]="addRcarAgentGroupForm">
  <ngc-window #insertionWindow [width]="1150" [height]="200" title="admin.rcar.add.new.agent.group" [showCloseButton]="true">
    <ngc-container type="tab">
      <ngc-row>

        <ngc-column column="3">
          <ngc-label label="admin.maintain.rcar.agent.group.code"></ngc-label>
          <div>
            <ngc-input [width]="200" formControlName="groupCode" required></ngc-input>
          </div>
        </ngc-column>
        <ngc-column column="3">
          <ngc-label label="admin.maintain.rcar.agent.group.description"></ngc-label>
          <div>
            <ngc-input [width]="200" formControlName="description" required></ngc-input>
          </div>
        </ngc-column>
        <ngc-column column="2">
          <ngc-label label="rcar.rcarStatus"></ngc-label>
          <div>
            <ngc-dropdownlist formControlName="statusCode" [all]='false' sourceId='RCAR_TYPES' sourceType='query'
              [multiSelect]="true" width="200%" required></ngc-dropdownlist>
          </div>
        </ngc-column>
      </ngc-row>
      <ngc-row>
        <ngc-column column="10"></ngc-column>
        <ngc-column column="2">
          <ngc-button (click)="save()" value="g.save"></ngc-button>
        </ngc-column>
      </ngc-row>
    </ngc-container>
  </ngc-window>
</form>
