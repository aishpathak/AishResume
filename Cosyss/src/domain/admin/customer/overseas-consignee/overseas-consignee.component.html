<form [formGroup]="overseasConsigneeForm">
  <ngc-titlebar title="admin.title.maintain.overseas.consignee" (save)="onSave($event)" (clear)="onClear($event)" (cancel)="onCancel($event)"></ngc-titlebar>
  <ngc-container type='tab'>
    <ngc-row>
      <ngc-column column="1">
        <div>
          <ngc-label label="g.destination"></ngc-label>
        </div>
        <ngc-lov accessEnableOn="r" sourceId="CITY"  title="g.city" formControlName="destinationCode"  dataField="code" width="50%">
          <ngc-data-column text="City"  dataField="code"  [width]="50"></ngc-data-column>
            <ngc-data-column text="g.description" [width]="90" dataField="desc"></ngc-data-column>
            <ngc-data-column text="g.countryCode" [width]="50" dataField="parameter1"></ngc-data-column>
        </ngc-lov>
      </ngc-column>
      <ngc-column column="1">
        <div>
          <ngc-label label="g.country"></ngc-label>
        </div>
        <ngc-lov accessEnableOn="r" formControlName="countryCode" sourceId="COUNTRY"  title="g.country"  dataField="code" width="50%">
          <ngc-data-column text="g.country" dataField="code" [width]="50"></ngc-data-column>
            <ngc-data-column text="g.description" [width]="150" dataField="desc"></ngc-data-column>
        </ngc-lov>
      </ngc-column>
      <ngc-column column="2">
        <div>
          <ngc-label label="consignee.name"></ngc-label>
        </div>
        <ngc-input accessEnableOn="r" formControlName="consigneeName" width="130%">
        </ngc-input>
      </ngc-column>
      <ngc-column column="2">
        <div>
          <ngc-label label=""></ngc-label>
        </div>
        <ngc-button accessEnableOn="r" iconType="search" label="g.search" (click)="onSearchConsignee($event)"></ngc-button>
      </ngc-column>
      <ngc-column align="right">
        <div>
          <ngc-label label=""></ngc-label>
        </div>
        <ngc-button value='add' (click)="onConsignee()" iconType="add"></ngc-button>
      </ngc-column>
    </ngc-row>
  </ngc-container>
  <ngc-container *ngIf="overseasFlag" type="tab">
    <ngc-row>
      <ngc-column>
        <ngc-edittable formArrayName="overseasConsigneeArray" [pageSize]="10">
          <ngc-data-column [width]="50" text="Destination" dataField="destinationCode">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-lov accessEnableOn="r" sourceId="CITY"  title="g.city" formControlName="destinationCode"  dataField="code" width="50%">
                  <ngc-data-column text="City"  dataField="code"  [width]="50"></ngc-data-column>
          <ngc-data-column text="g.description" [width]="90" dataField="desc"></ngc-data-column>
          <ngc-data-column text="g.countryCode" [width]="50" dataField="parameter1"></ngc-data-column>
          </ngc-lov>
          </ng-container>
          </ng-template>
          </ngc-data-column>
          <ngc-data-column [width]="150" text="consignee.name" dataField="consigneeName">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-input [width]="350" required formControlName="consigneeName"></ngc-input>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column [width]="150" text="Address1" dataField="consigneeAddress">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-input [width]="350" required formControlName="consigneeAddress"></ngc-input>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column [width]="50" text="Place" dataField="consigneePlace">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-input [width]="100" required formControlName="consigneePlace"></ngc-input>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column [width]="50" text="g.postalCode" dataField="consigneePostalCode">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-numberinput [width]="100" decimalDigits="0" digits="10" max="9999999999" formControlName="consigneePostalCode"></ngc-numberinput>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column [width]="50" text="g.state" dataField="consigneeState">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-lov [noCache]="true" sourceId="STATE" title="g.state" formControlName="consigneeState"  dataField="code" width="50%">
                  <ngc-data-column text="g.state"  dataField="code"  [width]="50"></ngc-data-column>
          <ngc-data-column text="g.stateName" [width]="150" dataField="desc"></ngc-data-column>
          </ngc-lov>
          </ng-container>
          </ng-template>
          </ngc-data-column>
          <ngc-data-column [width]="50" text="g.country" dataField="countryCode">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-lov [maxlength]="2"  required formControlName="countryCode" sourceId="COUNTRY"  title="g.country"  dataField="code" width="50%">
                  <ngc-data-column text="g.country" dataField="code" [width]="50"></ngc-data-column>
          <ngc-data-column text="g.countryName" [width]="150" dataField="desc"></ngc-data-column>
          </ngc-lov>
          </ng-container>
          </ng-template>
          </ngc-data-column>
          <ngc-data-column text="g.contact.details" dataField="consigneePhone">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-numberinput [width]="80" decimalDigits="0" digits="10" max="9999999999" formControlName="consigneePhone"></ngc-numberinput>
              </ng-container>
            </ng-template>
          </ngc-data-column>
        </ngc-edittable>
      </ngc-column>
    </ngc-row>
  </ngc-container>
</form>
