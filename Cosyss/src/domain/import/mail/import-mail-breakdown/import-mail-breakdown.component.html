<form [formGroup]="mailBreakdownWorklistForm">
  <ngc-titlebar title="import.mail.breakdown.worklist" (clear)='onClear($event)' (save)="onSave($event)" (cancel)="onBack($event)"></ngc-titlebar>
  <ngc-container type="header" formGroupName="searchFlight">
    <ngc-row>
      <ngc-column [column]="1">
        <ngc-label value="g.flight"></ngc-label>
        <div>
          <ngc-flightkeyinput accessEnableOn="r" formControlName="flightKey" required></ngc-flightkeyinput>
        </div>
      </ngc-column>
      <ngc-column column="2">
        <ngc-label value="g.date"></ngc-label>
        <div>
          <ngc-datetimeinput accessEnableOn="r" formControlName="flightDate" required></ngc-datetimeinput>
        </div>
      </ngc-column>
      <ngc-column [column]="1">
        <ngc-label label="import.mail.dn"></ngc-label>
        <div>
          <ngc-input accessEnableOn="r" [width]="100" formControlName="dispatchNumber"></ngc-input>
        </div>
      </ngc-column>
      <!--<ngc-column [column]="1">
        <ngc-label label="ULD"></ngc-label>
        <div>
          <ngc-input [width]="100" formControlName="uldNumber"></ngc-input>
        </div>
      </ngc-column>-->
      <ngc-column [column]='1'>
        <ngc-label label='&nbsp;'></ngc-label>
        <div>
          <ngc-button accessEnableOn="r" label='g.search' iconType="search" (click)="searchFlight()"></ngc-button>
        </div>
      </ngc-column>
      <ngc-column [column]='11'></ngc-column>
      <ngc-column [column]='1' *ngIf="showTable">
        <ngc-label label='&nbsp;'></ngc-label>
        <div>
          <ngc-button accessEnableOn="r" label='airmail.worklist.mailBreakdown' (click)="clickMailBreakdown($event)" align="right">
          </ngc-button>
        </div>
      </ngc-column>
    </ngc-row>
  </ngc-container>
  <ngc-container type="tab">
    <ngc-row *ngIf="showTable">
      <ngc-column>
        <ngc-datatable formArrayName="workingListShipmentInfo" [enablePageSizeHeight]="false">
          <ngc-data-column text="mailbag.dispatch.number" [width]='50' dataField="dispatchNumber" dataType="string" cellsAlign="center"></ngc-data-column>
          <ngc-data-column text="g.pieces" [width]='50' dataField="shpPieces" cellsAlign="center" type="displayPieces">
          </ngc-data-column>
          <ngc-data-column text="g.weight" [width]='50' dataField="shpWeight" cellsAlign="center" type="displayWeight">
          </ngc-data-column>
          <ngc-data-column text="g.origin" [width]='50' dataField="origin" cellsAlign="center" type="displayWeight">
          </ngc-data-column>
          <ngc-data-column text="import.mail.shipment.location" [width]='50' dataField="shipmentLocation" cellsAlign="center" type="displayWeight"></ngc-data-column>
          <ngc-data-column text="import.mail.warehouse.location" [width]='50' dataField="warehouseLocation" cellsAlign="center" type="displayWeight"></ngc-data-column>
          <ngc-data-row-childs>
            <ngc-data-row-child *ngFor="let item of mailBreakdownWorklistForm.controls.workingListShipmentInfo.controls; let index=index"
              [formGroupName]="index" [row]="index">
              <ngc-datatable formArrayName="shipments" [enablePageSizeHeight]="false">
                <ngc-data-column text="import.mail.bag.number" [width]='50' dataField="mailBagNumber" dataType="string" cellsAlign="center"></ngc-data-column>
                <ngc-data-column text="import.mail.transfer.carrier" [width]='20' cellsAlign="left" dataField="transferCarrierFrom">
                </ngc-data-column>
                <ngc-data-column text="import.mail.dispatch" [width]='15' dataField="dispatchNumber" cellsAlign="center">
                </ngc-data-column>
                <ngc-data-column text="import.mail.receptacle.number" [width]='22' dataField="receptacleNumber" cellsAlign="center">
                </ngc-data-column>
                <ngc-data-column text="g.pieces" [width]='10' dataField="individualPieces" cellsAlign="center" type="displayPieces"></ngc-data-column>
                <ngc-data-column text="g.weight" [width]='10' dataField="individualWeight" cellsAlign="center" type="displayWeight"></ngc-data-column>
                <ngc-data-column text="import.mail.next.destination" [width]='10' dataField="nextDestination" cellsAlign="center">
                </ngc-data-column>
                <ngc-data-column text="import.mail.shipment.location" [width]='10' dataField="shipmentLocation" cellsAlign="center">
                </ngc-data-column>
                <ngc-data-column text="import.mail.warehouse.location" [width]='10' dataField="warehouseLocation" cellsAlign="center"></ngc-data-column>
                <ngc-data-column text="airmail.uitility.embargo" [width]='10' type="icon" iconType="yesno" dataField="embargoFlag" cellsAlign="center"></ngc-data-column>
                <ngc-data-column text="import.mail.registered" type="icon" iconType="yesno" dataField="registered" [width]='20' cellsAlign="center"></ngc-data-column>
              </ngc-datatable>
            </ngc-data-row-child>
          </ngc-data-row-childs>
        </ngc-datatable>

      </ngc-column>
    </ngc-row>

  </ngc-container>


</form>