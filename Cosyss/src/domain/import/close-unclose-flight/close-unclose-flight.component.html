<ngc-titlebar title="Close Unclose Flight">
</ngc-titlebar>

<form [formGroup]="closeUncloseForm">
  <ngc-container>
    <ngc-row>
      <ngc-column [column]="1.5">
        <ngc-label label="g.flight">
        </ngc-label>
        <div>
          <ngc-flightkeyinput [width]="100" formControlName="flightNumber" accessEnableOn="r" upperCase="true">
          </ngc-flightkeyinput>
        </div>
      </ngc-column>

      <ngc-column [column]="1.5">
        <ngc-label label="g.date"></ngc-label>
        <div>
          <ngc-datetimeinput [width]="100" formControlName="flightDate" accessEnableOn="r" required></ngc-datetimeinput>
        </div>
      </ngc-column>

      <ngc-column [column]="5">
        <ngc-label label=""></ngc-label>
        <div>
          <ngc-button label='g.search' accessEnableOn="r" (click)='onSearch(true)' iconType="search"></ngc-button>
        </div>
      </ngc-column>
    </ngc-row>

    <ngc-containertype="sectiontop">
  </ngc-container>
  <ngc-container *ngIf="show" type="sectiontop"></ngc-container>
  <ngc-container *ngIf="show">

    <ngc-row>
      <ngc-column align="right">
        <div>
          <ngc-button label='close.flight' (click)="onCloseFlight()" accessEnableOn="r"></ngc-button>
        </div>
      </ngc-column>
      <ngc-column [column]="1" align="right">
        <div>
          <ngc-button label='unclose.flight' (click)="onUncloseFlight()" accessEnableOn="r"></ngc-button>
        </div>
      </ngc-column>
    </ngc-row>

    <ngc-row>
      <ngc-column>
        <ngc-edittable formArrayName="closeUncloseFlight" (linkClick)="onLinkClick($event)"
          (itemSelect)="onCheckBoxClick($event)" [pageSize]="5">
          <ngc-data-column text="g.select" type="check" [width]="4" align="center" cellsAlign="center" dataField="flag">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-checkbox formControlName="flag" (modelChange)="checkLoadedParent(group,$event)"></ngc-checkbox>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column text="g.sNo" align="center" cellsAlign="center" [width]="5" dataField="sno">
          </ngc-data-column>
          <ngc-data-column text="g.flight" align="center" cellsAlign="center" [width]="7" dataField="flightNo">
          </ngc-data-column>

          <ngc-data-column text="flight.arrival.date" align="center" cellsAlign="center" [width]="7"
            dataField="arrivalDate">
          </ngc-data-column>

          <ngc-data-column text="ATA" align="center" cellsAlign="center" [width]="5" dataField="ata">
          </ngc-data-column>

          <ngc-data-column text="ramp.date" align="center" cellsAlign="center" [width]="7" dataField="rampCompleteDate">
          </ngc-data-column>

          <ngc-data-column text="doc.complete" align="center" cellsAlign="center" [width]="7"
            dataField="docCompleteDate">
          </ngc-data-column>

          <ngc-data-column text="break.compl.date" align="center" cellsAlign="center" [width]="8"
            dataField="breakdownCompleteDate">
          </ngc-data-column>

          <ngc-data-column text="flt.close.date" align="center" cellsAlign="center" [width]="7"
            dataField="flightCloseDate">
          </ngc-data-column>

          <ngc-data-column text="flt.close.id" align="center" cellsAlign="center" [width]="7"
            dataField="flightCloseStaffId">
          </ngc-data-column>

          <ngc-data-column [hidden]="true" text="" align="center" cellsAlign="center" [width]="7" dataField="flightId">
          </ngc-data-column>

          <ngc-data-column [hidden]="true" text="" align="center" cellsAlign="center" [width]="7" dataField="date">
          </ngc-data-column>

          <ngc-data-column [hidden]="true" text="" align="center" cellsAlign="center" [width]="7" dataField="staDate">
          </ngc-data-column>

          <ngc-data-column [hidden]="true" text="" align="center" cellsAlign="center" [width]="7"
            dataField="unclosingRmrk">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-input formControlName="unclosingRmrk"></ngc-input>
              </ng-container>
            </ng-template>
          </ngc-data-column>
        </ngc-edittable>

      </ngc-column>
    </ngc-row>
  </ngc-container>
  <ngc-container *ngIf="show">
    <ngc-row>
      <ngc-column [column]="1.5">
        <ngc-label label=""></ngc-label>
      </ngc-column>
    </ngc-row>
    <ngc-row>
      <ngc-column [column]="1.5">
        <ngc-label label=""></ngc-label>
      </ngc-column>
    </ngc-row>
  </ngc-container>
  <ngc-container *ngIf="show">
    <ngc-row>
      <ngc-column>
        <ngc-label label="Unclosing Remark"></ngc-label>
        &nbsp;&nbsp;&nbsp;
        <ngc-remarksinput [width]="300" [maxlength]="250" (modelChange)="onChangeRemarks()"
          formControlName="uncloseingRemark">
        </ngc-remarksinput>
      </ngc-column>
    </ngc-row>
  </ngc-container>
</form>