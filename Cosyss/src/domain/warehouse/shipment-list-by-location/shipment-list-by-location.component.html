<ngc-titlebar title='warehouse.shipment.listbylocation' (save)="onSave()" (clear)="onClear()" (cancel)="onCancel()"
    (print)="onPrint()">
</ngc-titlebar>
<form [formGroup]="form">
    <!--
    <ngc-container type="tab">
        <ngc-row>
            <ngc-column>
              
   
    <div>
        <ngc-dropdownlist  accessEnableOn="r" sourceId="WAREHOUSE_TERMINAL" formControlName="terminalCode"
             [width]='120' [dropDownWidth]='110' sourceType="query"></ngc-dropdownlist>
    </div>
    </ngc-column>
    <ngc-column>
        
        <div>
            <ngc-dropdownlist accessEnableOn="r" [noCache]="true" formControlName="locationType" sourceType='query'
                [width]="150" sourceId='whsLocationType'></ngc-dropdownlist>
        </div>
    </ngc-column>
    <ngc-column>
       
        <div>
            <ngc-input accessEnableOn="r" [width]="100" [maxlength]="12" (ngModelChange)="locationChanged()"
                formControlName="locationCodeFrom"></ngc-input>
        </div>
    </ngc-column>
    <ngc-column>
     
        <div>
            <ngc-input accessEnableOn="r" [width]="100" [maxlength]="12" (ngModelChange)="locationChanged()"
                formControlName="locationCodeTo"></ngc-input>
        </div>
    </ngc-column>
    <ngc-column>
     
        <div>
            <ngc-shipmentinput accessEnableOn="r" formControlName="shipmentNumber">
            </ngc-shipmentinput>
           
        </div>
    </ngc-column>
    <ngc-column>
  
    
        <div>
            <ngc-dropdownlist accessEnableOn="r" formControlName="shcGroup" sourceType='query'
                sourceId='WH_SHC_HANDLING_GP' [width]="100" [dropDownWidth]='90'></ngc-dropdownlist>
        </div>
    </ngc-column>
    <ngc-column>
      
        <div>
            <ngc-shcinput accessEnableOn="r" formControlName="shc" [width]="75"></ngc-shcinput>
        
        </div>
    </ngc-column>
    <ngc-column>
      
     
       
        </div>
    </ngc-column>
    </ngc-row>
    <ngc-row>
        <ngc-column [column]="1">

            <div>
                <ngc-flightkeyinput accessEnableOn="r" formControlName="flightKey"></ngc-flightkeyinput>
            </div>
        </ngc-column>
        <ngc-column [column]="1.5">
          
            <div>
                <ngc-datetimeinput accessEnableOn="r" formControlName="flightDate"></ngc-datetimeinput>
            </div>
        </ngc-column>
       
        <ngc-column>
 
           
            <div>
                <ngc-lov accessEnableOn="r" upperCase='true' sourceId='CARRIER' formControlName="carrierCode"
                    sourceType='query' title="flight.carrierCode" dataField='code' [width]="60" [noCache]="true"
                    [validOnly]='true'>
                    <ngc-data-column text="flight.carrierCode" [width]="80" dataField="code"></ngc-data-column>
                    <ngc-data-column text="masters.carrierName" [width]="150" dataField="desc"></ngc-data-column>
                </ngc-lov>
            </div>
        </ngc-column>
        <ngc-column>
           
            <div>
             
                <ngc-uldinput accessEnableOn="r" [width]="100" formControlName="uldNumber"></ngc-uldinput>

            </div>
        </ngc-column>
        <ngc-column>
         
            <div>
                <ngc-input accessEnableOn="r" [width]="100" formControlName="binNumber" [maxlength]="12">
                </ngc-input>
            </div>
        </ngc-column>
        <ngc-column>
            
            <div>
                <ngc-input accessEnableOn="r" [width]="100" formControlName="trolleyNumber" [maxlength]="12">
                </ngc-input>
            </div>
        </ngc-column>
        <ngc-column>
          
            <div>
                <ngc-input accessEnableOn="r" [width]="100" formControlName="pdNumber" [maxlength]="10"></ngc-input>
            </div>
        </ngc-column>
        <ngc-column>

            <div>
                <ngc-dropdownlist accessEnableOn="r" [width]="150" sourceId="AgentPortal$Purpose"
                    formControlName="shipmentType">
                </ngc-dropdownlist>
            </div>
        </ngc-column>

        <ngc-column>
         
            <div>
                <ngc-button accessEnableOn="r" value="airmail.search" (click)="onSearch()" iconType="search">
                </ngc-button>
            </div>
        </ngc-column>
    </ngc-row>
    </ngc-container>
    -->
    <ngc-container type="header">
        <ngc-row>
            <ngc-column column="1.5">
                <ngc-row>
                    <ngc-column>
                        <ngc-radiobutton accessEnableOn="r" groupName="sel" formControlName="byLocation"
                            (modelChange)="selectType()">
                            <ngc-label label="warehouse.bylocation"></ngc-label>

                        </ngc-radiobutton>
                    </ngc-column>
                </ngc-row>
                <ngc-row>
                    <!-- <ngc-column>
                        <ngc-radiobutton accessEnableOn="r" groupName="sel" formControlName="byLocationType"
                            (modelChange)="selectType()">

                         
                            



                        </ngc-radiobutton>
                    </ngc-column> -->
                    <ngc-column>
                        <ngc-radiobutton accessEnableOn="r" groupName="sel" formControlName="byUld"
                            (modelChange)="selectType()">
                            <ngc-label label="warehouse.byuld"></ngc-label>
                        </ngc-radiobutton>
                    </ngc-column>
                </ngc-row>
                <ngc-row>
                    <ngc-column>
                        <ngc-radiobutton accessEnableOn="r" groupName="sel" formControlName="byBTPD"
                            (modelChange)="selectType()">
                            <ngc-label label="warehouse.by.bt.pd.bin"></ngc-label>
                        </ngc-radiobutton>
                    </ngc-column>
                </ngc-row>
            </ngc-column>
            <ngc-column column="3">
                <ngc-row *ngIf="displayLocation">
                    <ngc-column column="3">
                        <ngc-label label=""></ngc-label>
                        <div>
                            <ngc-label label="g.location"></ngc-label>
                        </div>
                    </ngc-column>
                    <ngc-column column="3">
                        <ngc-label label="g.from"></ngc-label>
                        <div>
                            <ngc-locations-list [noTerminal]='true' [displayOnlyLocation]="true" accessEnableOn="r"
                                [width]="100" [maxlength]="12" formControlName="locationCodeFrom" required>
                            </ngc-locations-list>
                        </div>
                    </ngc-column>
                    <ngc-column column="3">
                        <ngc-label label="g.to"></ngc-label>
                        <div>
                            <ngc-locations-list [noTerminal]='true' [displayOnlyLocation]="true" accessEnableOn="r"
                                [width]="100" [maxlength]="12" formControlName="locationCodeTo" required>
                            </ngc-locations-list>
                        </div>
                    </ngc-column>
                </ngc-row>
                <ngc-row *ngIf="displayLocationType">
                    <ngc-column column="2">
                        <ngc-label label=""></ngc-label>
                        <div>
                            <ngc-label label="warehouse.locationtype"></ngc-label>
                        </div>
                    </ngc-column>
                    <ngc-column column="3">
                        <ngc-label label=""></ngc-label>
                        <div>
                            <ngc-dropdownlist accessEnableOn="r" required [noCache]="true"
                                formControlName="whslocationType" sourceType='query' [width]="100"
                                sourceId='whsLocationType'></ngc-dropdownlist>

                        </div>
                    </ngc-column>
                    <ngc-column column="2">
                        <ngc-label label=""></ngc-label>
                        <div>

                            <ngc-label label="g.terminal"></ngc-label>
                        </div>
                    </ngc-column>
                    <ngc-column column="1.5">
                        <ngc-label label=""></ngc-label>
                        <div>

                            <ngc-dropdownlist  accessEnableOn="r" required sourceId="WAREHOUSE_TERMINAL"
                                formControlName="terminalCode"  [width]='100' [dropDownWidth]='110' sourceType="query">
                            </ngc-dropdownlist>
                        </div>
                    </ngc-column>
                </ngc-row>
                <ngc-row *ngIf="displayUld">
                    <!--
                        <ngc-column column="3">
                         
                            <div>
                                <ngc-input maxlength='3' formControlName="uldType" [width]="100"></ngc-input>
                            </div>
                        </ngc-column>
                    -->
                    <ngc-column column="3">
                        <ngc-label label="warehouse.byuld"></ngc-label>
                        <div>

                            <ngc-lov accessEnableOn="r" required upperCase='true' sourceId='ULDTYPE'
                                formControlName="uldType" sourceType='query' title="warehouse.uld.type" dataField='code'
                                [width]="60" [noCache]="true" [validOnly]='true'>
                                <ngc-data-column text="warehouse.uld.type" [width]="80" dataField="code">
                                </ngc-data-column>
                                <ngc-data-column text="g.uld" [width]="150" dataField="desc">
                                </ngc-data-column>
                            </ngc-lov>
                        </div>
                    </ngc-column>
                    <ngc-column column="3.5">
                        <ngc-label label="warehouse.uldnumber"></ngc-label>
                        <div>
                            <ngc-input maxlength='5' accessEnableOn="r" [width]="100" formControlName="uldNumber">
                            </ngc-input>
                        </div>
                    </ngc-column>
                    <ngc-column column="1">
                        <div>
                            <ngc-label label=""></ngc-label>
                        </div>
                    </ngc-column>
                    <ngc-column column="2">
                        <ngc-label label="g.carrier"></ngc-label>
                        <div>
                            <ngc-lov accessEnableOn="r" required upperCase='true' sourceId='CARRIER'
                                formControlName="carrierCode" sourceType='query' title="flight.carrierCode"
                                dataField='code' [width]="60" [noCache]="true" [validOnly]='true'>
                                <ngc-data-column text="flight.carrierCode" [width]="80" dataField="code">
                                </ngc-data-column>
                                <ngc-data-column text="masters.carrierName" [width]="150" dataField="desc">
                                </ngc-data-column>
                            </ngc-lov>
                        </div>
                    </ngc-column>

                </ngc-row>
                <ngc-row *ngIf="displayBtPd">

                    <ngc-column column="3">
                        <ngc-label label=""></ngc-label>
                        <div>
                            <ngc-label label="warehouse.bt.pd.bin"></ngc-label>
                        </div>
                    </ngc-column>
                    <ngc-column column="3">
                        <ngc-label label="g.from"></ngc-label>
                        <div>

                            <ngc-input accessEnableOn="r" required [width]="100" [maxlength]="12"
                                formControlName="locationCodeFrom">
                            </ngc-input>

                        </div>
                    </ngc-column>
                    <ngc-column column="3">
                        <ngc-label label="g.to"></ngc-label>
                        <div>

                            <ngc-input accessEnableOn="r" required [width]="100" [maxlength]="12"
                                formControlName="locationCodeTo">
                            </ngc-input>

                        </div>
                    </ngc-column>
                    <!--
                    <ngc-column column="3">
                    
                        <div>
                            <ngc-input accessEnableOn="r" [width]="100" [maxlength]="12" formControlName="BTPDCodeFrom">
                            </ngc-input>
                        </div>
                    </ngc-column>
                    <ngc-column column="3">
                     
                        <div>
                            <ngc-input accessEnableOn="r" [width]="100" [maxlength]="12" formControlName="BTCodeTo">
                            </ngc-input>
                        </div>
                    </ngc-column>
                -->
                </ngc-row>
            </ngc-column>

            <ngc-column column="1">
                <!-- formControlName="locationType" -->
                <ngc-label label="warehouse.shcgroup"></ngc-label>
                <div>
                    <ngc-dropdownlist accessEnableOn="r" formControlName="shcGroup" sourceType='query'
                        sourceId='WH_SHC_HANDLING_GP' [width]="100" [dropDownWidth]='90'></ngc-dropdownlist>
                </div>
            </ngc-column>
            <ngc-column column="1">
                <ngc-label label="g.shc"></ngc-label>
                <div>
                    <ngc-shcinput accessEnableOn="r" formControlName="shc" [width]="75"></ngc-shcinput>
                    <!-- <ngc-input accessEnableOn="r" formControlName="shc" [width]="75"></ngc-input> -->
                </div>
            </ngc-column>
            <ngc-column column="1">
                <!--  formControlName="customerCode" -->
                <ngc-label label="warehouse.agent"></ngc-label>
                <div>
                    <ngc-lov accessEnableOn="r" sourceId="WHS_AGENT_CUSTOMER_MASTER" formControlName="customerCode"
                        title="warehouse.agent.customer" [width]="100" dataField="code">
                        <ngc-data-column text="g.code" dataField="code" [width]="100"></ngc-data-column>
                        <ngc-data-column text="g.description" dataField="desc" [width]="150"></ngc-data-column>
                    </ngc-lov>
                    <!-- </di☻v> -->
                </div>
            </ngc-column>
            <ngc-column column="1">
                <ngc-label label="g.flight"></ngc-label>
                <div>
                    <ngc-flightkeyinput accessEnableOn="r" formControlName="flightKey"></ngc-flightkeyinput>
                </div>
            </ngc-column>
            <ngc-column column="1">
                <ngc-label label="g.date"></ngc-label>
                <div>
                    <ngc-datetimeinput accessEnableOn="r" formControlName="flightDate"></ngc-datetimeinput>
                </div>
            </ngc-column>
            <ngc-column column="1">
                <ngc-label label="g.exp.imp"></ngc-label>
                <div>
                    <ngc-dropdownlist accessEnableOn="r" [width]="100" sourceId="AgentPortal$Purpose"
                        formControlName="shipmentType">
                    </ngc-dropdownlist>
                </div>
            </ngc-column>
            <ngc-column column="1" entityAttribute="Flight.DomesticInternationalHandling">
                <ngc-label label="dropdown.International.domestic"></ngc-label>
                <div>
                    <ngc-dropdownlist accessEnableOn="r" [width]="100" sourceId="DomIntl$DomIntlDrop"
                        formControlName="domIntl">
                    </ngc-dropdownlist>
                </div>
            </ngc-column>
        </ngc-row>
        <ngc-row>
            <ngc-column column="10">
                <ngc-label label=""></ngc-label>
            </ngc-column>
            <ngc-column>
                <ngc-button accessEnableOn="r" label="g.search" (click)="onSearch()"></ngc-button>
            </ngc-column>
            <ngc-column>
                <ngc-label label=""></ngc-label>
            </ngc-column>
            <ngc-column>
                <ngc-button label="export.excel" (click)="onPrintExcel()"></ngc-button>
            </ngc-column>
        </ngc-row>
    </ngc-container>
    <ngc-container type="box" *ngIf="displayTable">
        <ngc-row>
            <ngc-column>
                <ngc-datatable formArrayName="shipmentList" (linkClick)="onLinkClick($event)" [groups]="['location']"
                    [pageSize]="100" [columnsHeight]="60" [enablePageSizeHeight]="false" [showToolbar]="false">
                    <ngc-data-column text='&nbsp;' [width]="16" type='check' dataField="recordChecked"
                        [cellsStyleRenderer]="checkBoxCellStyleRender">
                    </ngc-data-column>
                    <ngc-data-column text='&nbsp;' [width]="16" type='string' dataField="location" [hidden]="true">
                    </ngc-data-column>
                    <ngc-data-column text="g.sNo"  [width]="40" dataField="serialNo"  align="center"
                        cellsAlign="center">
                    </ngc-data-column>
                    <ngc-data-column text="warehouse.awb.awbnumber.br" dataField="shipmentNumber" align="center"
                        cellsAlign="center" [width]="80" type="link">
                    </ngc-data-column>
                    <ngc-data-column text="g.hawb.number" feature="Imp.Bd.HAWBHandling" dataField="hawbno" align="left"
                        cellsAlign="left" [width]="105">
                    </ngc-data-column>
                    <ngc-data-column text="warehouse.pcs" dataField="pieces" align="center" cellsAlign="center"
                        [width]="35">
                    </ngc-data-column>
                    <ngc-data-column text="warehouse.wgt" dataField="weight" align="center" cellsAlign="center"
                        [width]="35" type="displayWeight"></ngc-data-column>
                    <ngc-data-column text="warehouse.org" dataField="origin" align="center" cellsAlign="center"
                        [width]="40">
                    </ngc-data-column>
                    <ngc-data-column text="warehouse.dest" dataField="destination" align="center" cellsAlign="center"
                        [width]="40"></ngc-data-column>
                    <ngc-data-column text="warehouse.shipment.location.br" *ngIf="displayLocation"
                        dataField="shipmentLocation" align="center" cellsAlign="center" [width]="80"></ngc-data-column>
                    <ngc-data-column text="warehouse.warehouse.location.br" *ngIf="!displayLocation"
                        dataField="warehouseLocation" align="left" cellsAlign="center" [width]="80"></ngc-data-column>
                    <ngc-data-column text="warehouse.location.piece.br" dataField="locationPieces" align="center"
                        cellsAlign="center" [width]="80"></ngc-data-column>
                    <ngc-data-column text="warehouse.location.weight.br" dataField="locationWeight" align="center"
                        cellsAlign="center" [width]="70" type="displayWeight"></ngc-data-column>
                    <ngc-data-column text="warehouse.part.suffix.br" dataField="partSuffix" align="center"
                        feature="Exp.PartSuffix" cellsAlign="right" [width]="50"></ngc-data-column>
                    <ngc-data-column text="warehouse.pd.number.br" dataField="pdNumber" align="center"
                        cellsAlign="center" [width]="70"></ngc-data-column>
                    <ngc-data-column text="warehouse.hold" dataField="holdRemarks" align="center" cellsAlign="center"
                        [width]="40"></ngc-data-column>
                    <ngc-data-column text="g.shc" dataField="shc" align="left" cellsAlign="left" [width]="40">
                    </ngc-data-column>
                    <ngc-data-column text="g.natureOfGoods" dataField="natureOfGoodsDescription" align="left"
                        cellsAlign="left" [width]="120"></ngc-data-column>
                    <ngc-data-column text="warehouse.appointed.agent.br" dataField="customerCode" align="center"
                        cellsAlign="left" [width]="80"></ngc-data-column>
                    <ngc-data-column text="warehouse.consignee.shipper.name.br" dataField="customerName" align="left"
                        cellsAlign="left" [width]="130"></ngc-data-column>
                    <ngc-data-column text="warehouse.inboundflight.info.br" dataField="flightKey" align="center"
                        cellsAlign="center" [width]="110" [cellsRenderer]="cellsRendererFlightInfo"></ngc-data-column>
                    <ngc-data-column text="warehouse.booking.info" dataField="bookingInfo" align="center"
                        cellsAlign="center" [width]="120"></ngc-data-column>
                </ngc-datatable>
            </ngc-column>
        </ngc-row>
    </ngc-container>
    <ngc-report #Report title=" g.report"  reportId='shipment_List_By_LocationNew'
         [reportParameters]='reportParameters'>
    </ngc-report>
    <ngc-report #ReportExcel title="g.report" format='xls'  reportId='shipment_List_By_LocationNew'
         [reportParameters]='reportParameters'>
    </ngc-report>
</form>
<ngc-footer>
    <ngc-container>
        <ngc-row>
            <ngc-column>
                <ngc-row>
                    <ngc-column align="left">
                        <ngc-button accessEnableOn="r" value="shp.hold.loc"
                            (click)="redirectToShipmentLocationBasedOnShipment($event)"></ngc-button>
                    </ngc-column>
                    <ngc-column [column]="1">
                    </ngc-column>
                </ngc-row>
            </ngc-column>
        </ngc-row>
    </ngc-container>
</ngc-footer>