<ngc-titlebar title="uld.uldAllotment" (save)="onSave()"></ngc-titlebar>

<form [formGroup]="uldAllotmentFormGroup">

  <ngc-container type="section">
    <ngc-row>
      <ngc-column>
        <div>
          <ngc-label label='uld.uldAllotment'></ngc-label>
        </div>
        <ngc-lov [width]='370' sourceId="KEY_ULD_ALLOTMENT" title="uld.uldAllotment" formControlName="uldAllotment"
          dataField="code" displayField="desc" accessEnableOn='r'>
          <ngc-data-column text='g.code' dataField='code' [width]='100'></ngc-data-column>
          <ngc-data-column text="g.description" dataField="desc"></ngc-data-column>
        </ngc-lov>
      </ngc-column>
      <ngc-column>
        <div>
          <ngc-label label=''></ngc-label>
        </div>
        <ngc-button (click)="searchUldAllotment()" value="g.search" iconType="search"></ngc-button>
      </ngc-column>
      <ngc-column column="9"></ngc-column>
    </ngc-row>
    <!--------------------------------------------------------->
    <ngc-row>
      <ngc-column align="right">
        <ngc-button (click)="onAddEditUldAllotment()" value="Add" iconType="add"></ngc-button>
      </ngc-column>
    </ngc-row>
    <ngc-row>
      <ngc-column>

        <ngc-edittable formArrayName="uldAllotmentList">
          <ngc-data-column text="uld.uldAllotment" dataField="uldAllotment">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-display formControlName="uldAllotment"></ngc-display>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column text="uld.uldAllotmentDesc" dataField="uldAllotmentDescription">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-display formControlName="uldAllotmentDescription"></ngc-display>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column text="g.edit" dataField="edit">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-link (linkClick)="onAddEditUldAllotment(group)" iconType="edit">
                </ngc-link>
              </ng-container>
            </ng-template>
          </ngc-data-column>

          <ngc-data-column text="uld.uldAllotmentGroup" dataField="edit">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-link (linkClick)="onUldAllotMentGroup(group)" iconType="edit">
                </ngc-link>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column text="g.delete" dataField="delete">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-link (linkClick)="onDelete(group)" iconType="delete">
                </ngc-link>
              </ng-container>
            </ng-template>
          </ngc-data-column>

        </ngc-edittable>
      </ngc-column>
    </ngc-row>
  </ngc-container>
</form>

<!----------------------------------------------------->

<form [formGroup]="uldAllotmentEditFormGroup">
  <ngc-window #uldAllotmentAddWindow width="700" height="100" title="uld.uldAllotment" [showCloseButton]="true">
    <ngc-container type="section">
      <ngc-row>
        <ngc-column [column]="3">
          <div>
            <ngc-label label='uld.uldAllotment'></ngc-label>
          </div>
        </ngc-column>
        <ngc-column>
          <div *ngIf="this.showUldAllotment">
            <ngc-input [width]='60' formControlName="uldAllotment" [maxlength]="5" required></ngc-input>
          </div>
          <div *ngIf="!this.showUldAllotment">
            <ngc-display formControlName="uldAllotment"></ngc-display>
          </div>
        </ngc-column>
      </ngc-row>

      <ngc-row>
        <ngc-column [column]="3">
          <div>
            <ngc-label label='uld.uldAllotmentDesc'></ngc-label>
          </div>
        </ngc-column>
        <ngc-column>
          <div>
            <ngc-input [width]='370' formControlName="uldAllotmentDescription" [maxlength]="65" required></ngc-input>
          </div>
        </ngc-column>
      </ngc-row>
      <ngc-row>
        <ngc-column align="right">
          <ngc-button value="g.save" (click)="onSaveUldAllotment()"></ngc-button>
        </ngc-column>
        <ngc-column column="1"></ngc-column>
      </ngc-row>
    </ngc-container>
  </ngc-window>
</form>

<!----------------------------------------------------->

<form [formGroup]="uldAllotmentGroupFormGroup">
  <ngc-window #uldAllotmentGroupWindow width="1050" height="400" title="uld.uldAllotmentGroup" [showCloseButton]="true">
    <ngc-container type="tab">
      <ngc-row>
        <ngc-column>
          <ngc-edittable formArrayName="uldAllotmentGroupList">
            <ngc-data-column text="uld.uldAllotmentGroup" dataField="uldAllotmentGroup">
              <ng-template let-name="name" let-group="group">
                <ng-container [formGroupName]="group">
                  <ngc-input formControlName="uldAllotmentGroup" [maxlength]="5" required></ngc-input>
                </ng-container>
              </ng-template>
            </ngc-data-column>
            <ngc-data-column text="uld.uldAllotmentGroupDesc" dataField="uldAllotmentGroupDescription">
              <ng-template let-name="name" let-group="group">
                <ng-container [formGroupName]="group">
                  <ngc-input formControlName="uldAllotmentGroupDescription" [maxlength]="65" required></ngc-input>
                </ng-container>
              </ng-template>
            </ngc-data-column>

            <ngc-data-column text="uld.uldtype" dataField="uldAllotmentGroupUldTypeList">
              <ng-template let-name="name" let-group="group">
                <ng-container [formGroupName]="group">
                  <ngc-taginput [width]="100" formControlName="uldAllotmentGroupUldTypeList" sourceId='ULD_TYPE'
                    sourceType='query'></ngc-taginput>
                </ng-container>
              </ng-template>
            </ngc-data-column>
            <ngc-data-column text="g.delete" dataField="delete">
              <ng-template let-name="name" let-group="group">
                <ng-container [formGroupName]="group">
                  <ngc-link (linkClick)="onDeleteUldGroup(group)" iconType="delete">
                  </ngc-link>
                </ng-container>
              </ng-template>
            </ngc-data-column>

          </ngc-edittable>
        </ngc-column>
      </ngc-row>
      <ngc-row>
        <ngc-column align="right">
          <ngc-button value="g.add" (click)="onAddUldGroup()"></ngc-button>
          <ngc-button value="g.save" (click)="onSaveUldGroup()"></ngc-button>
        </ngc-column>
        <ngc-column column="1"></ngc-column>
      </ngc-row>
    </ngc-container>
  </ngc-window>
</form>