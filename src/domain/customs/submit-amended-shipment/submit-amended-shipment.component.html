<ngc-titlebar title='Submit Consignment' (save)="onSave($event)" (cancel)="onCancel()" *ngIf=!showAsPopup
  (clear)="onClear($event)">
</ngc-titlebar>
<form [formGroup]='searchAmendedShipmentSearchForm'>

  <form formGroupName='flightData'>
    <ngc-container type="section">
      <ngc-row>
        <ngc-column [column]="4">
          <ngc-label label='g.flight.no.date'></ngc-label>&nbsp;&nbsp;&nbsp;
          <ngc-display formControlName="flightNo"> </ngc-display>/<ngc-display formControlName="flightDate"
            [onlyDate]="true">
          </ngc-display>
        </ngc-column>

        <ngc-column [column]="4">
          <ngc-label label='event.aircraftType'></ngc-label>&nbsp;&nbsp;&nbsp;
          <ngc-display formControlName="aircraftType"> </ngc-display>
        </ngc-column>
      </ngc-row>

      <ngc-row>
        <ngc-column [column]="4">
          <ngc-label label='ata'></ngc-label>&nbsp;&nbsp;&nbsp;
          <ngc-display formControlName="ata" [onlyTime]="true"> </ngc-display>
        </ngc-column>

        <ngc-column [column]="4">
          <ngc-label label='eta'></ngc-label>&nbsp;&nbsp;&nbsp;
          <ngc-display formControlName="eta" [onlyTime]="true"> </ngc-display>
        </ngc-column>
      </ngc-row>

      <ngc-row>
        <ngc-column [column]="4">
          <ngc-label label='g.flight.priority'></ngc-label>&nbsp;&nbsp;&nbsp;
          <ngc-display formControlName=""> </ngc-display>
        </ngc-column>

        <ngc-column [column]="4">
          <ngc-label label='g.frozen'></ngc-label>&nbsp;&nbsp;&nbsp;
          <ngc-display formControlName=""> </ngc-display>
        </ngc-column>

        <ngc-column [column]="4">
          <ngc-label label='g.submitted.status'></ngc-label>&nbsp;&nbsp;&nbsp;
          <ngc-display formControlName="status"> </ngc-display>
        </ngc-column>

      </ngc-row>

    </ngc-container>


    <ngc-container type="section">
      <ngc-row>
        <ngc-column>
          <ngc-label label='awb.mawb'></ngc-label>&nbsp;&nbsp;&nbsp;
          <ngc-display formControlName="mawb"> </ngc-display>
        </ngc-column>

        <ngc-column>
          <ngc-label label='g.hawb'></ngc-label>&nbsp;&nbsp;&nbsp;
          <ngc-display formControlName="hawb"> </ngc-display>
        </ngc-column>

        <ngc-column>
          <ngc-label label='g.simple.csgn'></ngc-label>&nbsp;&nbsp;&nbsp;
          <ngc-display formControlName="simpleCsgn"> </ngc-display>
        </ngc-column>

        <ngc-column>
          <ngc-label label='g.cnsl.csgn'></ngc-label>&nbsp;&nbsp;&nbsp;
          <ngc-display formControlName="cnslCsgn"> </ngc-display>
        </ngc-column>
      </ngc-row>
    </ngc-container>

    <ngc-container type="tab">
      <ngc-row>
        <ngc-column>
          <ngc-edittable formArrayName="shipmentList" [dynamic]="true" (itemSelect)="onClick($event)" [pageable]="true"
            [pageSize]="20">

            <ngc-data-column text="g.sNo" align="left" [width]="20" cellsAlign="left" dataField=""
              [cellsRenderer]="cellsRendererSno">

            </ngc-data-column>
            <!-- <ngc-data-column text="AWB No." [width]="120" align="center" dataField="shipmentNumber">
            </ngc-data-column> -->
            <ngc-data-column text="awbNo" align="center">
              <ng-template let-name="name" let-group="group">
                <!-- <ng-container [formGroupName]="group"> -->
                <ngc-link type="link" (linkClick)="openShipment(group)"
                  [model]="searchAmendedShipmentSearchForm.get('flightData').get(['shipmentList',group,'shipmentNumber']).value">
                </ngc-link>
                <!-- </ng-container> -->
              </ng-template>
            </ngc-data-column>
            <ngc-data-column text="import.content" [width]="120" align="center" dataField="natureOfGoods">
            </ngc-data-column>
            <ngc-data-column text="awb.origin" align="center" dataField="origin">
            </ngc-data-column>
            <ngc-data-column text="g.loading.point" align="center" dataField="origin">
            </ngc-data-column>
            <ngc-data-column text="export.dest" align="center" dataField="destination">
            </ngc-data-column>

            <ngc-data-column text="g.manifested.pieces.weight" align="center" dataField="manifestPiecesWeight">
            </ngc-data-column>

            <ngc-data-column text="awb.awb.pcs.wt" align="center" dataField="awbPiecesWeight">
            </ngc-data-column>

            <ngc-data-column text="hawb.pcs.wt" align="center" dataField="hawbPiecesWeight">
            </ngc-data-column>
            <ngc-data-column text="g.cnsl" align="center" dataField="cnsl">
            </ngc-data-column>
            <ngc-data-column text="customs.ReleaseInd" align="center" dataField="rel">
            </ngc-data-column>
            <ngc-data-column text="agent.status" align="center" dataField="status">
            </ngc-data-column>

            <ngc-data-column text="g.action" align="center">
              <ng-template let-name="name" let-group="group">
                <ng-container [formGroupName]="group">
                  <ngc-link accessEnableOn="r" type="link" (linkClick)="onLinkClick(group)" iconType="open-link"
                    align="center" cellsAlign="center">
                  </ngc-link>
                </ng-container>
              </ng-template>
            </ngc-data-column>

          </ngc-edittable>
        </ngc-column>
      </ngc-row>
    </ngc-container>
    <ngc-footer>
      <ngc-container>
        <ngc-row>
          <ngc-column>
            <ngc-row>
              <ngc-column column="12" align="right">
                <div>
                  <ngc-button accessEnableOn="r" value="Submit To Customs" (click)="submitToCustom($event)">
                  </ngc-button>
                </div>
              </ngc-column>
            </ngc-row>
          </ngc-column>
        </ngc-row>
      </ngc-container>
    </ngc-footer>
  </form>
</form>