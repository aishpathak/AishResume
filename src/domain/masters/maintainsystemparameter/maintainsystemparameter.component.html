<form [formGroup]="systemParameterForm">
  <ngc-titlebar title="title.MaintainSystemParameter"></ngc-titlebar>

  <ngc-container type="box">
    <ngc-row>
      <ngc-column>
        <ngc-label label="sys.ParameterName"></ngc-label>
        <div>
          <!--
          <ngc-input accessEnableOn="r" [width]="150" ngc-form-control formControlName="searchName" upperCase='true'>
          </ngc-input>-->
          <ngc-lov formControlName="searchName" width="300" sourceId="KEY_SYSTEMPARAMETER" title="master.parameter"
            displayMember="code" dataField="code" accessEnableOn="r">
            <ngc-data-column text="g.code" dataField="code">
            </ngc-data-column>
            <ngc-data-column text="Name" dataField="desc">
            </ngc-data-column>
          </ngc-lov>
        </div>

      </ngc-column>

      <ngc-column>
        <ngc-label></ngc-label>
        <div>
          <ngc-button accessEnableOn="r" #searchButton (click)="onSearch()" value="g.search" iconType="search"
            (click)="populateTable()" [disabled]="false"></ngc-button>
        </div>
      </ngc-column>
      <ngc-column column="7"></ngc-column>
    </ngc-row>
  </ngc-container>
  <ngc-container type="tab">
    <ngc-row>
      <ngc-column>
        <ngc-datatable formArrayName="maintainSysParam" [width]="1050" [pageable]="true"
          (linkClick)="onLinkClick($event)" [enablePageSizeHeight]="false">
          <ngc-data-column text="g.sNo" dataField="sno" align="center" cellsAlign="center" [width]="20">
          </ngc-data-column>
          <ngc-data-column text="g.name" dataField="name" [width]="150" align="center" cellsAlign="left">
          </ngc-data-column>
          <ngc-data-column text="g.purpose" dataField="purpose" [width]="300" align="center"
            cellsAlign="left"></ngc-data-column>
          <ngc-data-column text="g.value" dataField="value" [width]="100" align="center" cellsAlign="left">
          </ngc-data-column>
          <ngc-data-column text="g.number" dataField="parameterValueNum" [width]="100" align="center" cellsAlign="left">
          </ngc-data-column>
          <ngc-data-column text="date" type="displayDate" dataField="parameterValueDate" [width]="100" align="center" cellsAlign="left">
          </ngc-data-column>
          <ngc-data-column text="g.startDate" type="displayDate" dataField="startDate" [width]="100" align="center" cellsAlign="left">
          </ngc-data-column>
          <ngc-data-column text="g.endDate" type="displayDate" dataField="endDate" [width]="100" align="center" cellsAlign="left">
          </ngc-data-column>
          <ngc-data-column text="sys.Active" dataField="active" type="icon" iconType="yesno" [width]="30" align="center"
            cellsAlign="center"></ngc-data-column>
          <ngc-data-column text="sys.Edit" dataField="edit" [width]="30" iconType="edit" align="center"
            cellsAlign="center" type="link"></ngc-data-column>
        </ngc-datatable>
      </ngc-column>
    </ngc-row>
  </ngc-container>
  <ngc-window #window [width]="1000" [height]="400" title="master.edit.system.parameter">
    <ngc-container type="tab">
      <ngc-row>
        <ngc-column column="3">
          <ngc-label label="g.name"></ngc-label>
        </ngc-column>
         <ngc-column>
          <ngc-display width="40" formControlName="name"></ngc-display>
         </ngc-column>
      </ngc-row>
      <ngc-row>
        <ngc-column column="3">
            <ngc-label label="g.purpose"></ngc-label>
        </ngc-column>
        <ngc-column>
            <ngc-input [width]="500" upperCase="true" formControlName="purpose" required></ngc-input>
        </ngc-column>
      </ngc-row>
      <ngc-row>
        <ngc-column column="3">
          <ngc-label label="sys.Active"></ngc-label>
        </ngc-column>
        <ngc-column>
          <ngc-dropdownlist [width]="70" [dropDownWidth]="60" sourceId="General$YesNoFlag" formControlName="active"
              required></ngc-dropdownlist>
        </ngc-column>
      </ngc-row>
      <ngc-row>
        <ngc-column column="3">
          <ngc-label label="g.value"></ngc-label>
        </ngc-column>
        <ngc-column>
          <ngc-input  [width]="250" upperCase="true" formControlName="value"></ngc-input>
        </ngc-column>
      </ngc-row>
      <ngc-row>
        <ngc-column column="3">
          <ngc-label label="g.number"></ngc-label>
        </ngc-column>
        <ngc-column>
          <ngc-input  [width]="250" upperCase="true" formControlName="parameterValueNum"></ngc-input>
        </ngc-column>
      </ngc-row>
      <ngc-row>
        <ngc-column column="3">
          <ngc-label label="date"></ngc-label>
        </ngc-column>
        <ngc-column>
            <ngc-datetimeinput accessEnableOn="r" [width]="120" formControlName="parameterValueDate" [showCalendarButton]="true"
            [showTimeButton]="false"></ngc-datetimeinput>
        </ngc-column>
      </ngc-row>
      <ngc-row>
        <ngc-column column="3">
          <ngc-label label="g.startDate"></ngc-label>
        </ngc-column>
        <ngc-column>
            <ngc-datetimeinput accessEnableOn="r" [width]="120" formControlName="startDate" [showCalendarButton]="true"
            [showTimeButton]="false" required></ngc-datetimeinput>
        </ngc-column>
      </ngc-row>
      <ngc-row>
        <ngc-column column="3">
          <ngc-label label="g.endDate"></ngc-label>
        </ngc-column>
        <ngc-column>
            <ngc-datetimeinput accessEnableOn="r" [min]="this.systemParameterForm.get('startDate').value" [width]="120" formControlName="endDate" [showCalendarButton]="true"
            [showTimeButton]="false"></ngc-datetimeinput>
        </ngc-column>
      </ngc-row>
    </ngc-container>
    <ngc-window-footer>
      <ngc-container type="tab">
        <ngc-row>
          <ngc-column align="right">
            <ngc-button (click)="onUpdate($event)" iconType="save" value="g.save"></ngc-button>
            <!-- <ngc-button (click)="onCancel($event)" iconType="cancel" value="Cancel"></ngc-button> -->
          </ngc-column>
        </ngc-row>
      </ngc-container>
    </ngc-window-footer>
  </ngc-window>


</form>