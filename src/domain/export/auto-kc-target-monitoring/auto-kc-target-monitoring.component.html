<form novalidate [formGroup]="monitoringform">
    <ngc-titlebar title="export.autokc.shipment.monitoring.title" (print)="onPrint()"></ngc-titlebar>
    <ngc-container type="box">
        <ngc-row>
            <ngc-column>
                <ngc-row>
                    <ngc-column>
                        <ngc-label value="g.year"></ngc-label>
                    </ngc-column>
                </ngc-row>
                <ngc-row>
                    <ngc-column>
                        <!-- <ngc-dropdownlist formControlName="year" sourceType='query' sourceId="REPORT_YEAR" cellsAlign>
                        </ngc-dropdownlist>-->
                        <ngc-numberinput accessEnableOn="r" [width]="100" maxlength="4" formControlName="year" digits="4" decimalDigits="0"
                            required>
                        </ngc-numberinput>
                    </ngc-column>
                </ngc-row>
            </ngc-column>
            <ngc-column>
                <ngc-row>
                    <ngc-column>
                        <ngc-label value="g.month"></ngc-label>
                    </ngc-column>
                </ngc-row>
                <ngc-row>
                    <ngc-column>
                        <ngc-dropdownlist accessEnableOn="r" formControlName="month" sourceType='query' sourceId="REPORT_MONTH" cellsAlign>
                        </ngc-dropdownlist>
                    </ngc-column>
                </ngc-row>
            </ngc-column>
            <ngc-column>
                <ngc-row>
                    <ngc-column>
                        <ngc-label value="g.terminal"></ngc-label>
                    </ngc-column>
                </ngc-row>
                <ngc-row>
                    <ngc-column>
                        <ngc-dropdownlist accessEnableOn="r" formControlName="terminalCode" sourceId="WAREHOUSE_TERMINAL"
                            sourceType="query" cellsAlign>
                        </ngc-dropdownlist>
                    </ngc-column>
                </ngc-row>
            </ngc-column>
            <ngc-column>
                <ngc-row>
                    <ngc-column>
                        <ngc-label value=" "></ngc-label>
                    </ngc-column>
                </ngc-row>
                <ngc-row>
                    <ngc-column>
                        <ngc-button accessEnableOn="r" value="g.search" (click)="fetchAutoKCMonitoringList()"></ngc-button>
                    </ngc-column>
                </ngc-row>
            </ngc-column>
            <ngc-column>
                <ngc-row>
                    <ngc-column>
                        <ngc-label value=" "></ngc-label>
                    </ngc-column>
                </ngc-row>
                <ngc-row>
                    <ngc-column>
                        <ngc-button value="g.download" (click)="downloadReport()" *ngIf="isTableFlag"></ngc-button>
                    </ngc-column>
                </ngc-row>
            </ngc-column>
        </ngc-row>
    </ngc-container>
    <ngc-container *ngIf="isTableFlag">
        <ngc-row>
            <ngc-column>
                <ngc-table>
                    <thead>
                        <tr>
                            <th rowspan="3">Year</th>
                            <th rowspan="3">Month</th>
                            <th rowspan="3">Terminal</th>
                            <th style="padding-left: 240px;" colspan="8">Export</th>
                            <th colspan="8" style="padding-left: 240px;">Transhipment</th>
                        </tr>
                        <tr>
                            <th colspan="4" style="padding-left: 80px;">PAX(AWB Count)</th>
                            <th colspan="4" style="padding-left: 80px;">Freighter(AWB Count)</th>
                            <th colspan="4" style="padding-left: 80px;">PAX(AWB Count)</th>
                            <th colspan="4" style="padding-left: 80px;">Freighter(AWB Count)</th>
                        </tr>
                        <tr>
                            <th>Total</th>
                            <th>Target</th>
                            <th>Screened</th>
                            <th>%</th>
                            <th>Total</th>
                            <th>Target</th>
                            <th>Screened</th>
                            <th>%</th>
                            <th>Total</th>
                            <th>Target</th>
                            <th>Screened</th>
                            <th>%</th>
                            <th>Total</th>
                            <th>Target</th>
                            <th>Screened</th>
                            <th>%</th>
                        </tr>
                    </thead>
                    <tbody formArrayName="autoKCMonitoringList">
                        <tr *ngFor="let item of monitoringform.controls.autoKCMonitoringList.controls; let index=index"
                            [formGroupName]="index">
                            <td>
                                <ngc-display formControlName="year"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="month"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="terminalCode"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="exportpaxtotalshpcnt"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="exportpaxtargetedshpcount"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="exportpaxscreenedshpcount"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="exportpaxpercentage"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="exportFrttotalshpcnt"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="exportFrttargetedshpcount"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="exportFrtscreenedshpcount"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="exportFrtpercentage"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="importpaxtotalshpcnt"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="importpaxtargetedshpcount"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="importpaxscreenedshpcount"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="importpaxpercentage"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="importFrttotalshpcnt"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="importFrttargetedshpcount"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="importFrtscreenedshpcount"></ngc-display>
                            </td>
                            <td>
                                <ngc-display formControlName="importFrtpercentage"></ngc-display>
                            </td>
                        </tr>
                    </tbody>
                </ngc-table>
            </ngc-column>
        </ngc-row>
    </ngc-container>
    <ngc-report format='xls' #reportWindow title="autokc.shipment.monitoring.report"  reportId='AutoKCMonitoringReport'
        [reportParameters]='reportParameters'>
    </ngc-report>
    <ngc-report #reportWindow1  reportId='AutoKCMonitoringReport' [reportParameters]='reportParameters'>
    </ngc-report>
</form>