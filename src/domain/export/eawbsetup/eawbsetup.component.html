<form [formGroup]="form">
  <ngc-titlebar title="export.eawb.setup.title" (save)="onSave($event)" (clear)="onClear($event)"></ngc-titlebar>
  <ngc-container type="tab">
    <ngc-row>
      <ngc-column [column]='1'>
        <ngc-label label="g.carrier"></ngc-label>
      </ngc-column>
      <ngc-column [column]='2'>
        <ngc-lov formControlName="carrierCode" upperCase="true" dataField="code" displayMember="code" [width]="75" sourceId='CARRIER'
          title='flight.carrierType' required>
          <ngc-data-column text="g.carrier" dataField="code" [width]="100"></ngc-data-column>
          <ngc-data-column text="g.description" dataField="desc" [width]="150"></ngc-data-column>
          <ngc-data-column text="flight.assisted" dataField="param1"></ngc-data-column>
        </ngc-lov>
      </ngc-column>
      <ngc-column [column]='2'>
        <ngc-button label="g.search" iconType="search" (click)="onSearch()"></ngc-button>
      </ngc-column>
      <ngc-column [column]='7'></ngc-column>
    </ngc-row>
    <ngc-row>
      <ngc-column>
        <ngc-label label="export.eawb.setup.all.cosys.agent"></ngc-label>
        <div>
          <ngc-display formControlName="allCosysAgent"></ngc-display>
        </div>
      </ngc-column>
      <ngc-column>
        <ngc-label label="export.eawb.setup.final.stage"></ngc-label>
        <div>
          <ngc-display formControlName="finalStage"></ngc-display>
        </div>
      </ngc-column>
      <ngc-column>
        <ngc-label label="g.startDate"></ngc-label>
        <div>
          <ngc-datetimeinput formControlName="startDate"></ngc-datetimeinput>
        </div>
      </ngc-column>
      <ngc-column>
        <ngc-label label="g.endDate"></ngc-label>
        <div>
          <ngc-datetimeinput formControlName="endDate"></ngc-datetimeinput>
        </div>
      </ngc-column>
      <ngc-column [column]="6"> </ngc-column>
    </ngc-row>
  </ngc-container>
  <ngc-container type="tab">
    <ngc-row>
      <!--TABLE FOR SECTORS-->
      <ngc-column [column]="6">
        <h4>SECTOR</h4>
        <ngc-table>
          <thead>
            <tr>
              <th>
                <ngc-label label="g.sector"></ngc-label>
              </th>
              <th>
                <ngc-label label="export.eawb.setup.single.processing.print"></ngc-label>
              </th>
              <th>
                <ngc-label label="export.eawb.setup.copies"></ngc-label>
              </th>
              <th>
                <ngc-label label="g.startDate"></ngc-label>
              </th>
              <th>
                <ngc-label label="g.endDate"></ngc-label>
              </th>
              <th>
                <ngc-label label="g._add"></ngc-label>
              </th>
              <th>
                <ngc-label label="g.delete"></ngc-label>
              </th>
            </tr>
          </thead>
          <tbody formArrayName="eAWBSetupSector">
            <tr *ngFor="let item of form.controls.eAWBSetupSector.controls; let index=index" [formGroupName]="index">
              <td>
                <ngc-display formControlName="sector"></ngc-display>
              </td>
              <td>
                <ngc-display formControlName="singleProcessPrint"></ngc-display>
              </td>
              <td>
                <ngc-display formControlName="copies"></ngc-display>
              </td>
              <td>
                <ngc-datetimeinput formControlName="sectorStartDate"></ngc-datetimeinput>
              </td>
              <td>
                <ngc-datetimeinput formControlName="sectorEndDate"></ngc-datetimeinput>
              </td>
              <td>
                <ngc-icon type="yesno"></ngc-icon>
              </td>
              <td>
                <ngc-link (linkClick)="onDeleteSector(index)" hide-value="true">
                  <ngc-icon type="yesno" value="false"></ngc-icon>
                </ngc-link>
              </td>
            </tr>
          </tbody>
        </ngc-table>
      </ngc-column>
      <!--TABLE FOR AGENT-->
      <ngc-column [column]="6">
        <h4>AGENT</h4>
        <ngc-table>
          <thead>
            <tr>
              <th>
                <ngc-label label="agent.agent"></ngc-label>
              </th>
              <th>
                <ngc-label label="agent.agent.name"></ngc-label>
              </th>
              <th>
                <ngc-label label="g.startDate"></ngc-label>
              </th>
              <th>
                <ngc-label label="g.endDate"></ngc-label>
              </th>
              <th>
                <ngc-label label="g._add"></ngc-label>
              </th>
              <th>
                <ngc-label label="g.delete"></ngc-label>
              </th>
            </tr>
          </thead>
          <tbody formArrayName="eAWBSetupAgent">
            <tr *ngFor="let item of form.controls.eAWBSetupAgent.controls; let index=index" [formGroupName]="index">
              <td>
                <ngc-display formControlName="agent"></ngc-display>
              </td>
              <td>
                <ngc-display formControlName="agentName"></ngc-display>
              </td>
              <td>
                <ngc-datetimeinput formControlName="agentStartDate"></ngc-datetimeinput>
              </td>
              <td>
                <ngc-datetimeinput formControlName="agentEndDate"></ngc-datetimeinput>
              </td>
              <td>
                <ngc-icon [type]="yesno" iconType="add"></ngc-icon>
              </td>
              <td>
                <ngc-link (linkClick)="onDeleteAgent(index)" hide-value="true">
                  <ngc-icon type="yesno" value="false"></ngc-icon>
                </ngc-link>
              </td>
            </tr>
          </tbody>
        </ngc-table>
      </ngc-column>
    </ngc-row>
  </ngc-container>