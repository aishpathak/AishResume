<form [formGroup]="shipmentHandedover">
    <ngc-titlebar title='shipmentHandover.title' [disableSave]="disableSave" [disableClear]="disableSave" (cancel)="redirectTo()"></ngc-titlebar>
    <ngc-container type="header" formGroupName='terminalPoint'>
        <ngc-row>

            <ngc-column column='2'>
                <ngc-label label='shipmentHandover.sendingTerminal'></ngc-label>
                <div>
                    <ngc-dropdownlist accessEnableOn="r" [width]="100" sourceId="WAREHOUSE_TERMINAL" sourceType="query"
                        formControlName="fromTrml"></ngc-dropdownlist>
                </div>
            </ngc-column>
            <ngc-column column='2'>
                <ngc-label label='shipmentHandover.receivingTerminal'></ngc-label>
                <div>
                    <ngc-dropdownlist accessEnableOn="r" [width]="100" sourceId="WAREHOUSE_TERMINAL" sourceType="query"
                        formControlName="toTrml"></ngc-dropdownlist>
                </div>
            </ngc-column>
            <ng-container formGroupName='terminalPointDetails'>
                <ngc-column column='2'>
                    <ngc-label label='shipmentHandover.shpNumber'></ngc-label>
                    <div>
                        <ngc-awbinput accessEnableOn="r" formControlName='shpNumber'></ngc-awbinput>
                    </div>
                </ngc-column>
                <ngc-column column='2'>
                    <ngc-label label='shipmentHandover.uldNumber'></ngc-label>
                    <div>
                        <ngc-uldinput accessEnableOn="r" formControlName='loadingDetails'></ngc-uldinput>
                    </div>
                </ngc-column>
                <ngc-column column='1'>
                    <ngc-label label='shipmentHandover.purpose'></ngc-label>
                    <div>
                        <ngc-dropdownlist accessEnableOn="r" [width]="100" formControlName="purpose"
                            sourceId='Purpose$PurposeType'></ngc-dropdownlist>
                    </div>
                </ngc-column>
            </ng-container>
        </ngc-row>
        <ngc-row formGroupName='terminalPointDetails'>
            <ng-container formGroupName='subscriberDetails'>
                <ngc-column column='2'>
                    <ngc-label label='shipmentHandover.handoverdatefrom'></ngc-label>
                    <div>
                        <ngc-datetimeinput accessEnableOn="r" showCalendarButton="true" [showTimeButton]="true"
                            formatString="ddMMMyyyy" formControlName="handedOverOn"></ngc-datetimeinput>
                    </div>
                </ngc-column>
            </ng-container>
            <ng-container formGroupName='receipentDetails'>
                <ngc-column column='2'>
                    <ngc-label label='shipmentHandover.handoverdateto'></ngc-label>
                    <div>
                        <ngc-datetimeinput accessEnableOn="r" showCalendarButton="true" [showTimeButton]="true"
                            formatString="ddMMMyyyy" formControlName="receivedDate"></ngc-datetimeinput>
                    </div>
                </ngc-column>
            </ng-container>
            <ng-container formGroupName='subscriberDetails'>
                <ngc-column column='2'>
                    <ngc-label label="shipmentHandover.sender"></ngc-label>
                    <div>
                        <ngc-alphanuminput accessEnableOn="r" formControlName='handedOverBy'></ngc-alphanuminput>
                    </div>
                </ngc-column>
            </ng-container>
            <ng-container formGroupName='receipentDetails'>
                <ngc-column column='2'>
                    <ngc-label label='shipmentHandover.receiver'></ngc-label>
                    <div>
                        <ngc-alphanuminput accessEnableOn="r" formControlName="receivedBy"></ngc-alphanuminput>
                    </div>
                </ngc-column>
            </ng-container>
            <ngc-column align="right" column='1'>
                <br>
                <ngc-button accessEnableOn="r" label="shipmentHandover.search" (click)="search()"></ngc-button>
            </ngc-column>
        </ngc-row>
    </ngc-container>
    <ngc-container type="tab">
        <ngc-row>
            <ngc-column>
                <ngc-table>
                    <thead>
                        <tr>
                            <th>
                                <ngc-label label="shipmentHandover.sno"></ngc-label>
                            </th>
                            <th>
                                <ngc-label label='shipmentHandover.shpAWBUldNumber'></ngc-label>
                            </th>
                            <th>
                                <ngc-label label="shipmentHandover.loadingDetails"></ngc-label>
                            </th>
                            <th>
                                <ngc-label label="shipmentHandover.purpose"></ngc-label>
                            </th>
                            <th>
                                <ngc-label label="shipmentHandover.fromTrml"></ngc-label>
                            </th>
                            <th>
                                <ngc-label label='shipmentHandover.receivingTrml'></ngc-label>
                            </th>
                            <th>
                                <ngc-label label="shipmentHandover.originDestination"></ngc-label>
                            </th>
                            <th>
                                <ngc-label label="shipmentHandover.pieces/weight(k)"></ngc-label>
                            </th>
                            <th>
                                <ngc-label label="shipmentHandover.onwardBookingDetails"></ngc-label>
                            </th>
                            <th>
                                <ngc-label label='shipmentHandover.handoverDateTime'></ngc-label>
                            </th>
                            <th>
                                <ngc-label label="shipmentHandover.sender"></ngc-label>
                            </th>
                            <th>
                                <ngc-label label="shipmentHandover.receiver"></ngc-label>
                            </th>
                        </tr>
                    </thead>
                    <tbody formArrayName="terminalPointList">
                        <ng-container *ngFor="let item of shipmentHandedover.get('terminalPointList').controls; let index =index" [formGroupName]="index">
                            <tr>
                                <td>
                                    {{index+1}}
                                </td>
                                <td formGroupName='terminalPointDetails'>
                                    <ngc-display formControlName='shpNumber' maxLength="15"></ngc-display>
                                </td>
                                <td formGroupName='terminalPointDetails'>
                                    <ngc-display formControlName='loadingDetails' maxLength="15"></ngc-display>
                                </td>
                                <td formGroupName='terminalPointDetails'>
                                    <ngc-display formControlName='purpose' maxLength="15"></ngc-display>
                                </td>
                                <td>
                                    <ngc-display formControlName="fromTrml" maxLength="15"></ngc-display>
                                </td>
                                <td>
                                    <ngc-display formControlName="toTrml" maxLength="15"></ngc-display>
                                </td>
                                <td formGroupName='terminalPointDetails'>
                                    <ng-container formGroupName='handoverTerminalShp'>
                                        <ngc-display formControlName='originDestination' maxLength="15"></ngc-display>
                                    </ng-container>
                                </td>
                                <td formGroupName='terminalPointDetails'>
                                    <ng-container formGroupName='handoverTerminalShp'>
                                        <ngc-display formControlName='piecesweight' maxLength="15"></ngc-display>
                                    </ng-container>
                                </td>
                                <td formGroupName='terminalPointDetails'>
                                    <ng-container formGroupName='handoverTerminalShp'>
                                        <ng-container formGroupName='flight'>
                                            <ngc-display formControlName='onwardBookingDetails' maxLength="15"></ngc-display>
                                        </ng-container>
                                    </ng-container>
                                </td>
                                <td formGroupName='terminalPointDetails'>
                                    <ng-container formGroupName='subscriberDetails'>
                                        <ngc-display formControlName="handedOverOn" maxLength="15"></ngc-display>
                                    </ng-container>
                                </td>
                                <td formGroupName='terminalPointDetails'>
                                    <ng-container formGroupName='subscriberDetails'>
                                        <ngc-display formControlName='handedOverBy' maxLength="15"></ngc-display>
                                    </ng-container>
                                </td>
                                <td formGroupName='terminalPointDetails'>
                                    <ng-container formGroupName='receipentDetails'>
                                        <ngc-display formControlName='receivedBy' maxLength="15"></ngc-display>
                                    </ng-container>
                                </td>
                            </tr>
                        </ng-container>
                    </tbody>
                </ngc-table>
            </ngc-column>
        </ngc-row>
    </ngc-container>
</form>