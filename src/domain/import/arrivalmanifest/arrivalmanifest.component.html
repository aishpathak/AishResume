<form [formGroup]="arrivalManifestData">
  <ngc-titlebar title='manifest.display' (print)='print()' (cancel)="onBack($event)" [disablePrint]="printFlag==false">
  </ngc-titlebar>
  <ngc-container type="section">
    <ngc-row formGroupName="searchArrivalData">
      <ngc-column [column]="1.5">
        <ngc-label label='import.flight'></ngc-label>
        <div>
          <ngc-flightkeyinput formControlName="flight" required="true" accessEnableOn="r" [width]="110"
            (focusout)="someMethodWithFocusOutEvent($event)" (modelChange)='onChangeFlight($event)'>
          </ngc-flightkeyinput>
        </div>
      </ngc-column>
      <ngc-column [column]="1.5">
        <ngc-label label='agent.createRoutingDate'></ngc-label>
        <div>
          <ngc-dateinput formControlName="date" required="true" accessEnableOn="r" [width]="80"
            (modelChange)='onChangeFlight($event)'></ngc-dateinput>
        </div>
      </ngc-column>
      <ngc-column [column]="1.5" entityAttribute="Import.Arrival.ShcFliter">
        <ngc-label label="g.shc"></ngc-label>
        <div>
          <ngc-lov formControlName="shc" [noCache]="true" [noValidation]="true" dataField='code'
            sourceId="SHC_WITHOUT_GROUP" [width]="100" maxlength="16">
            <ngc-data-column dataField="code" [width]="100"></ngc-data-column>
          </ngc-lov>
        </div>
      </ngc-column>
      <ngc-column [column]=" 2">
        <ngc-label label=''></ngc-label>
        <div>
          <ngc-button (click)="onSearch()" value="display.search" accessEnableOn="r"></ngc-button>
        </div>
      </ngc-column>

      <ngc-column [column]=" 1" *ngIf="isFlightInformation" feature="Imp.Bd.Customsubmissionclearance">
        <ngc-label label='customs.clearance'></ngc-label>
        <div>
          <ngc-display formControlName="customsClearance"></ngc-display>
        </div>
      </ngc-column>

      <ngc-column [column]=" 1" *ngIf="isFlightInformation" feature="Imp.Bd.CustomLeftBehindSubmission">
        <ngc-label label='left.behind.submission'></ngc-label>
        <div>
          <ngc-display formControlName="leftBehindSubmission"></ngc-display>
        </div>
      </ngc-column>

      <ngc-column [column]="1" *ngIf="isFlightInformation" feature="Imp.Bd.LeftBehindSubmissionDate">
        <ngc-label label='left.behind.submission.sent.date'></ngc-label>
        <div>
          <ngc-display formControlName="leftBehindSubmissionSentDate" [onlyDate]="true"></ngc-display>
        </div>
      </ngc-column>

    </ngc-row>
    <ngc-row>
      <ngc-column></ngc-column>
    </ngc-row>
    <ngc-row formGroupName="flightData" *ngIf="isFlightInformation">
      <ngc-column [column]="1">
        <ngc-label label='import.flight'></ngc-label>
        <div>
          <ngc-display formControlName="flightNumber"></ngc-display>
        </div>
      </ngc-column>
      <ngc-column [column]="1">
        <ngc-label label='agent.createRoutingDate'></ngc-label>
        <div>
          <ngc-display formControlName="flightDate" [onlyDate]="true"></ngc-display>
        </div>
      </ngc-column>
      <ngc-column [column]="1">
        <ngc-label label='import.sta'></ngc-label>
        <div>
          <ngc-display formControlName="sta"></ngc-display>
        </div>
      </ngc-column>
      <ngc-column [column]="1">
        <ngc-label label='import.eta'></ngc-label>
        <div>
          <ngc-display formControlName="eta"></ngc-display>
        </div>
      </ngc-column>
      <ngc-column [column]="1">
        <ngc-label label='import.ata'></ngc-label>
        <div>
          <ngc-display formControlName="ata"></ngc-display>
        </div>
      </ngc-column>
      <ngc-column [column]="1.5">
        <ngc-label label='import.segment'></ngc-label>
        <div>
          <ngc-display formControlName="routingInfo" color="blue" emphasis="md"></ngc-display>
        </div>
      </ngc-column>
      <ngc-column [column]="1">
        <ngc-label label='import.aircraftReg'></ngc-label>
        <div>
          <ngc-display formControlName="aircraftRegCode"></ngc-display>
        </div>
      </ngc-column>
      <ngc-column [column]="1">
        <div>
          <ngc-display formControlName="flightStatus" color="blue" emphasis='md'></ngc-display>
        </div>
      </ngc-column>
      <ngc-column [column]="1" *ngIf="isFlightInformation">
        <ngc-label label=''></ngc-label>
        <div>
          <ngc-button (click)="createShipments() " iconType="add " value="manifest.add"></ngc-button>
        </div>
      </ngc-column>

      <ngc-column [column]="1.5" *ngIf="isFlightInformation" feature="Imp.Bd.CustomManifestSubmissionReport">
        <ngc-label label=''></ngc-label>
        <div>
          <ngc-button label="manifest.report" (click)="Bondedmanifestreport()">
          </ngc-button>
        </div>
      </ngc-column>


      <ngc-column [column]="1" *ngIf="isShipmentInformation">
        <ngc-label label='import.type.of.report'>
        </ngc-label>
        <div>
          <ngc-dropdownlist accessEnableOn="r" [autoSelect]='true' [placeHolder]="" [width]='130' [dropDownWidth]='120'
            sourceId='ffm$typeofreport' required formControlName='typeReport'></ngc-dropdownlist>
        </div>
      </ngc-column>
    </ngc-row>
  </ngc-container>
  <ngc-container type="box">
    <ngc-row>
      <ngc-column *ngIf="isFFMReceived && isShipmentInformation" [column]="1">
        <ngc-table formArrayName="ffmReceivedDetails">
          <thead>
            <tr>
              <th>
                <ngc-label label='import.ffm.received'></ngc-label>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let contact of arrivalManifestData.get('ffmReceivedDetails').controls; let index = index"
              [formGroupName]="index">
              <td>
                <ngc-display formControlName="segmentReceived"></ngc-display>
              </td>
            </tr>
          </tbody>
        </ngc-table>
      </ngc-column>
      <ngc-column *ngIf="isFFMRejected" [column]="1">
        <ngc-table formArrayName="ffmRejectedDetails">
          <thead>
            <tr>
              <th>
                <ngc-label label='import.ffm.rejected'></ngc-label>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let contact of arrivalManifestData.get('ffmRejectedDetails').controls; let index = index"
              [formGroupName]="index">
              <td>
                <ngc-display formControlName="segmentRejected"></ngc-display>
              </td>
            </tr>
          </tbody>
        </ngc-table>
      </ngc-column>
    </ngc-row>
    <ngc-row>
      <ngc-column *ngIf="isShipmentInformation">
        <ngc-datatable (linkClick)="onAdditionalInformationPopUp($event)" formArrayName="uldResultList"
          [groups]="['index', 'uldNumber']" [groupsRenderer]="groupsRenderer" [pageable]="false" pinned="true"
          [pagerMode]="'advanced'" [enablePageSizeHeight]="false" [columnsHeight]="50" [showToolbar]="true">
          <!--<ngc-data-column text="g.select" dataField="flagDelete" [width]="40" align="center" cellsAlign="center" type="check"></ngc-data-column>-->
          <ngc-data-column text='' dataField="index" [width]="80" hidden="true" align="center" cellsAlign="center">
          </ngc-data-column>
          <ngc-data-column text='' dataField="boardingPoint" [width]="80" hidden="true" align="center"
            cellsAlign="center" type="text">
          </ngc-data-column>
          <ngc-data-column text='' dataField="uldNumber" [width]="80" hidden="true" align="center" cellsAlign="center"
            type="text">
          </ngc-data-column>
          <ngc-data-column text='g.awbNumber' dataField="shipmentNumber" [width]="90" align="center" cellsAlign="center"
            type="link"></ngc-data-column>
          <ngc-data-column text='import.origin' dataField="origin" [width]="40" align="center" cellsAlign="center"
            type="displayDate" type="text">
          </ngc-data-column>
          <ngc-data-column text='import.destination' dataField="destination" [width]="40" align="center"
            cellsAlign="center" type="text">
          </ngc-data-column>
          <ngc-data-column text='import.shipmentUnit' dataField="shipmentDescriptionCode" [width]="40" align="center"
            cellsAlign="center" type="text"></ngc-data-column>
          <ngc-data-column text='import.pieces' dataField="piece" [width]="30" align="center" cellsAlign="center"
            type="displayPieces" type="text"></ngc-data-column>
          <ngc-data-column text='import.weight' dataField="weight" [width]="30" align="center" cellsAlign="center"
            type="displayWeight" type="text"></ngc-data-column>
          <ngc-data-column text='import.kl' dataField="weightUnitCode" [width]="30" align="center" cellsAlign="center"
            type="text"></ngc-data-column>
          <ngc-data-column text='import.totalPieces' dataField="totalPieces" [width]="30" align="center"
            cellsAlign="center" type="displayPieces" type="text"></ngc-data-column>
          <ngc-data-column text='import.natureOfGoods' dataField="natureOfGoodsDescription" [width]="60" align="center"
            cellsAlign="center" type="text"></ngc-data-column>
          <ngc-data-column text='import.shc' dataField="shcCode" [width]="40" align="center" cellsAlign="center"
            type="text">
          </ngc-data-column>
          <ngc-data-column text='import.shc' dataField="shc" [width]="40" align="center" cellsAlign="center"
            hidden="true" type="text">
          </ngc-data-column>
          <ngc-data-column text='import.nextCarrier' dataField="carrierDestination" [width]="70" align="center"
            cellsAlign="center" type="text"></ngc-data-column>
          <ngc-data-column text='import.domesticInternational' dataField="handledByDOMINT" [width]="55" align="center"
            cellsAlign="center" type="text" entityAttribute="Awb.DomesticInternationalHandling"></ngc-data-column>
          <ngc-data-column text='import.handledByMasterHouse' dataField="handledByMasterHouse" [width]="25"
            align="center" cellsAlign="center" type="text" feature="Imp.Bd.HAWBHandling"></ngc-data-column>
          <ngc-data-column text='g.priority' dataField="priority" [width]="30" type="link" align="center"
            cellsAlign="center" feature="Imp.Bd.Priority"></ngc-data-column>
          <ngc-data-column text='booking.information' dataField="onwardMovement" [width]="120" align="center"
            cellsAlign="center" type="text"></ngc-data-column>
          <ngc-data-column text='import.additionalInfo' dataField="additionalInfo" [width]="50" type="link"
            iconType="edit" align="center" cellsAlign="center"></ngc-data-column>
          <ngc-data-column text='g.edit' dataField="Edit" [width]="30" type="link" iconType="edit" align="center"
            cellsAlign="center"></ngc-data-column>
          <ngc-data-column text='g.delete' dataField="Delete" [width]="30" type="link" iconType="delete" align="center"
            cellsAlign="center"></ngc-data-column>
        </ngc-datatable>
      </ngc-column>
    </ngc-row>
    <ngc-row *ngIf="isShipmentInformation" formGroupName="flightLevelCount">
      <ngc-column [column]="1">
        <ngc-label label='g.total'></ngc-label>
      </ngc-column>
      <ngc-column [column]="1">
        <ngc-label label='import.uld.dash'></ngc-label>
        <ngc-display formControlName="flightULDCount"></ngc-display>
      </ngc-column>
      <ngc-column [column]="2">
        <ngc-label label='import.loose.shipments.dash'></ngc-label>
        <ngc-display formControlName="flightLooseCargoCount"></ngc-display>
      </ngc-column>
      <ngc-column [column]="2">
        <ngc-label label='import.uld.shipments.dash'></ngc-label>
        <ngc-display formControlName="flightCargoInULD"></ngc-display>
      </ngc-column>
      <ngc-column [column]="1">
        <ngc-label label='import.pieces.dash'></ngc-label>
        <ngc-piecesdisplay formControlName="flightPieces"></ngc-piecesdisplay>
      </ngc-column>
      <ngc-column [column]="1">
        <ngc-label label='import.weight.dash'></ngc-label>
        <ngc-weightdisplay formControlName="flightWeight"></ngc-weightdisplay>
      </ngc-column>
    </ngc-row>
  </ngc-container>

  <ngc-container type="box" *ngIf="isRejectedShipmentInformation">
    <ngc-row>
      <ngc-column [column]="3">
        <ngc-table formArrayName="rejectedShipments">
          <thead>
            <tr>
              <th>
                <ngc-label label='import.shipmentRejected'></ngc-label>
              </th>
              <th>
                &nbsp;
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let contact of arrivalManifestData.get('rejectedShipments').controls; let index = index"
              [formGroupName]="index">
              <td>
                <ngc-display formControlName="shipmentNumber" [width]="100"></ngc-display>&nbsp;
                <ngc-display formControlName="origin" [width]="30"></ngc-display>/
                <ngc-display formControlName="destination" [width]="30"></ngc-display>&nbsp;
                <ngc-display formControlName="shipmentDescriptionCode" [width]="30"></ngc-display>
                <ngc-display formControlName="piece" [width]="30"></ngc-display>
                <ngc-display formControlName="weightUnitCode" [width]="30"></ngc-display>
                <ngc-display formControlName="weight" [width]="30"></ngc-display>&nbsp;
                <ngc-display formControlName="natureOfGoodsDescription" [width]="30"></ngc-display>
              </td>
              <td>
                <ngc-display formControlName="rejectReason" [width]="500"></ngc-display>
              </td>
            </tr>
          </tbody>
        </ngc-table>
      </ngc-column>
    </ngc-row>

  </ngc-container>

  <ngc-window #additionalInformationWindow [width]="1200" [height]="500" title='import.additionalInfo'
    [formGroup]="arrivalManifestData">
    <ngc-container type="section" formGroupName="additionalInfoData">
      <ngc-row>
        <ngc-column [column]="2">
          <ngc-label label='import.densitygroup'></ngc-label>
          <div>
            <ngc-numberinput formControlName="densityGroup" [width]="80" digits="2" decimalDigits="0"></ngc-numberinput>
          </div>
        </ngc-column>
        <ngc-column [column]="2">
          <ngc-label label='import.volume'></ngc-label>
          <div>
            <ngc-numberinput formControlName="volume" [width]="80" digits="11" decimalDigits="2"></ngc-numberinput>
          </div>
        </ngc-column>
        <ngc-column [column]="2">
          <ngc-label label='import.volumeunit'></ngc-label>
          <div>
            <ngc-dropdownlist formControlName="volumeUnitCode" sourceId="General$VolumeCode" [width]="140">
            </ngc-dropdownlist>
          </div>
        </ngc-column>
        <ngc-column [column]="2">
          <ngc-label label='import.customsref'></ngc-label>
          <div>
            <ngc-input formControlName="customsReference" [width]="100" maxlength="65"></ngc-input>
          </div>
        </ngc-column>
        <ngc-column [column]="2">
          <ngc-label label='import.customsorg'></ngc-label>
          <div>
            <ngc-input formControlName="customsOrigin" [width]="100" maxlength="2"></ngc-input>
          </div>
        </ngc-column>
        <ngc-column [column]="2">
          <ngc-label label='import.mvmtpriority'></ngc-label>
          <div>
            <ngc-input formControlName="movementPriorityCode" [width]="100" maxlength="1"></ngc-input>
          </div>
        </ngc-column>
      </ngc-row>
    </ngc-container>
    <ngc-container type="section">
      <ngc-row>
        <ngc-column [column]="7">
          <ngc-label label='import.dimensions'></ngc-label>
        </ngc-column>
        <ngc-column [column]="1">
          <ngc-label label='import.oci'></ngc-label>
        </ngc-column>
        <!--<ngc-column [column]="2" align="right">
          <ngc-button value='import.addDimension' (click)="onAddDimension()"></ngc-button>
        </ngc-column>
        
        <ngc-column align="right">
          <ngc-button value='import.addoci' (click)="onAddOCI()"></ngc-button>
        </ngc-column>-->
      </ngc-row>
      <ngc-row>
        <ngc-column [column]="7">
          <ngc-table formArrayName="dimensionResultList">
            <thead>
              <tr>
                <!--<th>
                  <ngc-label label=''></ngc-label>
                </th>-->
                <th>
                  <ngc-label label='import.pieces'></ngc-label>
                </th>
                <th>
                  <ngc-label label='import.weight' width='20'></ngc-label>
                </th>
                <th>
                  <ngc-label label='import.weightUnit' width='20'></ngc-label>
                </th>
                <th>
                  <ngc-label label='import.dimensionlength' width='20'></ngc-label>
                </th>
                <th>
                  <ngc-label label='import.dimensionwidth' width='20'></ngc-label>
                </th>
                <th>
                  <ngc-label label='import.dimensionheight' width='20'></ngc-label>
                </th>
                <th>
                  <ngc-label label='import.size' width='20'></ngc-label>
                </th>
                <!--<th>
                  <ngc-label label='' width='20'></ngc-label>
                </th>-->
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let contact of arrivalManifestData.get('dimensionResultList').controls; let index = index"
                [formGroupName]="index">
                <!--<td>
                  <ngc-checkbox formControlName="checkBoxValue" [width]="30" type="check"></ngc-checkbox>
                </td>-->
                <td>
                  <ngc-piecesinput formControlName="noOfPieces" required="true"></ngc-piecesinput>
                </td>
                <td>
                  <ngc-weightinput formControlName="weight" required="true"></ngc-weightinput>
                </td>
                <td>
                  <ngc-dropdownlist formControlName="weightUnitCode" sourceId="General$WeightCode" [width]="70"
                    required="true"></ngc-dropdownlist>
                </td>
                <td>
                  <ngc-numberinput formControlName="length" [width]="60" uppercase='true' required="true" digits="5"
                    decimalDigits="0"></ngc-numberinput>
                </td>
                <td>
                  <ngc-numberinput formControlName="width" [width]="60" uppercase='true' required="true" digits="5"
                    decimalDigits="0"></ngc-numberinput>
                </td>
                <td>
                  <ngc-numberinput formControlName="height" [width]="60" uppercase='true' required="true" digits="5"
                    decimalDigits="0"></ngc-numberinput>
                </td>
                <td>
                  <ngc-dropdownlist formControlName="measurementUnitCode" sourceId="Shipment$MeasurementUnitCode"
                    [width]="70" required="true"></ngc-dropdownlist>
                </td>
                <!--<td>
                  <ngc-link (click)="onEdit($event, index)" [width]="30" iconType="edit"> </ngc-link>
                </td>-->
              </tr>
            </tbody>
          </ngc-table>
        </ngc-column>
        <ngc-column [column]="5">
          <ngc-table formArrayName="ociResultList">
            <thead>
              <tr>
                <!--<th>
                  <ngc-label label=''></ngc-label>
                </th>-->
                <th>
                  <ngc-label label='import.iso'></ngc-label>
                </th>
                <th>
                  <ngc-label label='import.informationIdentifier' width='20'></ngc-label>
                </th>
                <th>
                  <ngc-label label='import.csrcii' width='20'></ngc-label>
                </th>
                <th>
                  <ngc-label label='import.scsrcii' width='20'></ngc-label>
                </th>
                <!--<th>
                  <ngc-label label='' width='20'></ngc-label>
                </th>-->
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let contact of arrivalManifestData.get('ociResultList').controls; let index = index"
                [formGroupName]="index">
                <!--<td>
                  <ngc-checkbox formControlName="checkBoxValue" [width]="30" uppercase='true'></ngc-checkbox>
                </td>-->
                <td>
                  <ngc-input formControlName="countryCode" [width]="60" uppercase='true' maxlength="2"></ngc-input>
                </td>
                <td>
                  <ngc-input formControlName="informationIdentifier" [width]="60" uppercase='true' maxlength="3">
                  </ngc-input>
                </td>

                <td>
                  <ngc-input formControlName="csrciIdentifier" [width]="60" uppercase='true' maxlength="2"></ngc-input>
                </td>
                <td>
                  <ngc-input formControlName="scsrcInformation" [width]="60" uppercase='true' maxlength="35">
                  </ngc-input>
                </td>
                <!--<td>
                  <ngc-link (click)="onEdit($event, index)" [width]="30" iconType="edit"> </ngc-link>
                </td>-->
              </tr>
            </tbody>
          </ngc-table>
        </ngc-column>
      </ngc-row>
      <!--<ngc-row>
        <ngc-column column="7" align="right">
          <ngc-button value='Delete Dimension' (click)="onDeleteDimension()"></ngc-button>
        </ngc-column>
        <ngc-column column="5" align="right">
          <ngc-button value='Delete OCI' (click)="onDeleteOCI()"></ngc-button>
        </ngc-column>
      </ngc-row>-->
    </ngc-container>
    <ngc-container type="section">
      <ngc-row>
        <ngc-column [column]="7">
          <ngc-container>
            <ngc-row>
              <ngc-column column="8">
                <ngc-label label='import.consignmentonMvmt'></ngc-label>
              </ngc-column>
              <!--<ngc-column column="3" align="right">
                <ngc-button value='import.addmvmt' (click)="onAddMovement()"></ngc-button>
              </ngc-column>-->
            </ngc-row>
            <ngc-row>
              <ngc-column column="11">
                <ngc-table formArrayName="onwardMvmtResultList">
                  <thead>
                    <tr>

                      <th>
                        <ngc-label label='agent.createRoutingFlight' width='20'></ngc-label>
                      </th>
                      <th>
                        <ngc-label label='agent.createRoutingDate' width='20'></ngc-label>
                      </th>

                    </tr>
                  </thead>
                  <tbody>
                    <tr
                      *ngFor="let contact of arrivalManifestData.get('onwardMvmtResultList').controls; let index = index"
                      [formGroupName]="index">


                      <td>
                        <ngc-input formControlName="flightNumber" [width]="60" uppercase='true' maxlength="6">
                        </ngc-input>
                      </td>
                      <td>
                        <ngc-datetimeinput formControlName="departureDate"></ngc-datetimeinput>
                      </td>

                    </tr>
                  </tbody>
                </ngc-table>
              </ngc-column>
            </ngc-row>
            <!--<ngc-row>
              <ngc-column column="11" align="right">
                <ngc-button value='Delete Movement' (click)="onDeleteMovement()"></ngc-button>
              </ngc-column>
            </ngc-row>-->
          </ngc-container>
        </ngc-column>
        <ngc-column [column]="5">
          <ngc-row>
            <ngc-column>
              <ngc-label label='import.otherservices'></ngc-label>
            </ngc-column>
          </ngc-row>
          <ngc-row>
            <ngc-column>
              <ngc-table [width]="450" formArrayName="osiResultList">
                <thead>
                  <tr>
                    <th>
                      <ngc-label label='import.remark'></ngc-label>
                    </th>
                    <!--<th>
                      <ngc-label label='' width='20'></ngc-label>
                    </th>-->
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let contact of arrivalManifestData.get('osiResultList').controls; let index = index"
                    [formGroupName]="index">
                    <td>
                      <ngc-input formControlName="remarks" [width]="400"></ngc-input>

                    </td>
                    <!--<td>
                      <ngc-link (click)="onEdit($event, index)" [width]="30" iconType="edit"> </ngc-link>
                    </td>-->
                  </tr>
                </tbody>
              </ngc-table>
            </ngc-column>
          </ngc-row>
          <!--<ngc-row>
            <ngc-column align="right">
              <ngc-button (click)="onAdditionalInformationSave()" label='save' #updateButton></ngc-button>
            </ngc-column>
          </ngc-row>-->
        </ngc-column>
      </ngc-row>
    </ngc-container>
  </ngc-window>
  <ngc-report #reportWindow title="g.report"  reportId='arrivalmanifestmodified'  [reportParameters]='reportParameters'>
  </ngc-report>
  <ngc-report #looseReport title="g.report"  reportId='arrivalmanifestmodifiedLosse'
     [reportParameters]='reportParameters'></ngc-report>
  <ngc-report #uldReport title="g.report"  reportId='arrivalmanifestmodifiedUld'  [reportParameters]='reportParameters'>
  </ngc-report>
  <ngc-report #customsReportWindow title="g.report"  reportId='arrivalmanifestcustoms'
     [reportParameters]='reportParameters'>
  </ngc-report>

  <ngc-window #editShipmentsWindow [width]="1500" [height]="500" title='import.edit.shipment.info'
    [formGroup]="arrivalManifestData">
    <ngc-row>
      <ngc-column column="0.5">
      </ngc-column>
      <ngc-column column="11">
        <ng-container *ngIf='losseShipmentContainer' type="section">
          <ngc-row>
            <ngc-column>
              <ngc-column column="4">
                <ngc-label label='import.looseShipments'></ngc-label>
              </ngc-column>
              <ngc-edittable formArrayName="looseShipments">
                <ngc-data-column text="g.awbNumber" dataField="shipmentNumber" cellsAlign="center" align='center'
                  [width]="40">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-awbdisplay formControlName="shipmentNumber" required="true" [width]="30">
                      </ngc-awbdisplay>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="poIssue.svc" dataField="svc" [width]="10" cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-checkbox formControlName="svc" [width]="20"></ngc-checkbox>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.origin" dataField="origin" [width]="30" cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-lov [lazy]="true" formControlName="origin" sourceId='FINAL_DESTINATION' title='g.source'
                        dataField='code' required="true" [width]="40" maxlength="3" patternName="alpha">
                        <ngc-data-column text="g.source" dataField="code" [width]="100"></ngc-data-column>
                        <ngc-data-column text="g.destination" dataField="desc" [width]="150">
                        </ngc-data-column>
                      </ngc-lov>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.destination" dataField="destination" [width]="30" cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-lov [lazy]="true" formControlName="destination" sourceId="FINAL_DESTINATION" title="g.source"
                        dataField='code' required="true" [width]="40" maxlength="3" patternName="alpha"
                        (ngModelChange)="onDestinationChange($event,group,arrivalManifestData,'L')">
                        <ngc-data-column text="g.source" dataField="code" [width]="100"></ngc-data-column>
                        <ngc-data-column text="g.destination" dataField="desc" [width]="150">
                        </ngc-data-column>
                      </ngc-lov>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.shipmentUnit" dataField="shipmentDescriptionCode" [width]="20"
                  cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-dropdownlist formControlName="shipmentDescriptionCode" sourceId="Import$shipmentDescription"
                        [width]="65" (ngModelChange)="onDescriptionChange($event,group,arrivalManifestData,'L')">
                      </ngc-dropdownlist>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.pieces" dataField="piece" [width]="30" cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-piecesinput formControlName="piece" required="true"
                        (ngModelChange)="onPieceChange($event,group,arrivalManifestData,'L')"></ngc-piecesinput>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.weight" dataField="weight" [width]="20" cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-weightinput formControlName="weight" required="true"></ngc-weightinput>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.weightUnit" dataField="weightUnitCode" [width]="30" cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-dropdownlist formControlName="weightUnitCode" sourceId="General$WeightCode" [width]="70"
                        required="true" noBlank="true"></ngc-dropdownlist>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.totalPieces" dataField="totalPieces" [width]="30" cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-piecesinput formControlName="totalPieces"></ngc-piecesinput>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.natureOfGoods" dataField="natureOfGoodsDescription" [width]="50"
                  cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-input formControlName="natureOfGoodsDescription" [width]="130" uppercase='true'
                        required="true" maxlength="15"></ngc-input>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.shc" dataField="specialHandlingCode" [width]="30" cellsAlign="left"
                  [useNotOnDemand]="true">
                  <ng-template let-name="name" let-group="group" let-editable="editable">
                    <ng-container [formGroupName]="group">
                      <ngc-shcinput formArrayName="shc" dataField="specialHandlingCode" [readonly]="!editable">
                      </ngc-shcinput>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column entityAttribute="Awb.DomesticInternationalHandling" text="import.domesticInternational"
                  dataField="handledByDOMINT" [width]="50" cellsAlign="center" align="center">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-display formControlName="handledByDOMINT"></ngc-display>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column feature="Imp.Bd.HAWBHandling" text="import.handledByMasterHouse"
                  dataField="handledByMasterHouse" [width]="20" cellsAlign="center" align="center">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-dropdownlist formControlName="handledByMasterHouse" sourceId="HouseMaster$HouseMasterValues"
                        [dropDownWidth]="20" [width]="20"
                        [disabled]="arrivalManifestData.get(['looseShipments',group,'destination']).value !== airportCode">
                      </ngc-dropdownlist>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.nextdest" dataField="carrierDestination" [width]="30" cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-lov formControlName="carrierDestination" sourceId="FINAL_DESTINATION" title="g.destination"
                        dataField='code' [width]="40" maxlength="3" patternName="alpha">
                        <ngc-data-column text="g.source" dataField="code" [width]="100"></ngc-data-column>
                        <ngc-data-column text="g.destination" dataField="desc" [width]="150">
                        </ngc-data-column>
                      </ngc-lov>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="agent.createRoutingCarrier" dataField="carrierCode" [width]="30"
                  cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-lov formControlName="carrierCode" sourceId='CARRIER' title='masters.carrierType' [width]="30"
                        dataField='code' displayMember='code' (select)="onSelect($event)">
                        <ngc-data-column text="masters.carrier" dataField="code" [width]="70">
                        </ngc-data-column>
                        <ngc-data-column text="masters.description" dataField="desc" [width]="100">
                        </ngc-data-column>
                      </ngc-lov>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
              </ngc-edittable>
            </ngc-column>
          </ngc-row>
        </ng-container>
      </ngc-column>
      <ngc-column column="0.5">
      </ngc-column>
    </ngc-row>
    <!-- Uld Shipemnts Starts here -->
    <ngc-row *ngIf='uldShipmentContainer'>
      <ngc-column column="0.5">
      </ngc-column>
      <ngc-column column="11">
        <ng-container *ngIf='uldShipmentContainer' type="section">
          <ngc-row>
            <ngc-column>
              <ngc-column>
                <ngc-label label='import.uld.shipments.s'></ngc-label>
              </ngc-column>
              <ngc-edittable formArrayName="uldShipments">
                <ngc-data-column text="UldNumber" dataField="uldNumber" cellsAlign="center" align='center' [width]="40">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-ulddisplay formControlName="uldNumber" [width]="40" required></ngc-ulddisplay>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="g.awbNumber" dataField="shipmentNumber" cellsAlign="left" [width]="40">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-awbdisplay [width]="40" formControlName="shipmentNumber" required="true">
                      </ngc-awbdisplay>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="poIssue.svc" dataField="svc" [width]="30" cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-checkbox formControlName="svc" [width]="20"></ngc-checkbox>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.origin" dataField="origin" [width]="30" cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-lov [lazy]="true" formControlName="origin" sourceId='FINAL_DESTINATION' title='g.source'
                        dataField='code' required="true" [width]="40" maxlength="3" patternName="alpha">
                        <ngc-data-column text="g.source" dataField="code" [width]="100"></ngc-data-column>
                        <ngc-data-column text="g.destination" dataField="desc" [width]="150">
                        </ngc-data-column>
                      </ngc-lov>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.destination" dataField="destination" [width]="30" cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-lov [lazy]="true" formControlName="destination" sourceId="FINAL_DESTINATION" title="g.source"
                        dataField='code' required="true" [width]="40" maxlength="3" patternName="alpha"
                        (ngModelChange)="onDestinationChange($event,group,arrivalManifestData,'U')">
                        <ngc-data-column text="g.source" dataField="code" [width]="100"></ngc-data-column>
                        <ngc-data-column text="g.destination" dataField="desc" [width]="150">
                        </ngc-data-column>
                      </ngc-lov>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.shipmentUnit" dataField="shipmentDescriptionCode" [width]="20"
                  cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-dropdownlist formControlName="shipmentDescriptionCode" sourceId="Import$shipmentDescription"
                        [width]="100" (ngModelChange)="onULDDescriptionChange($event,group,arrivalManifestData,'L')">
                      </ngc-dropdownlist>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.pieces" dataField="piece" [width]="30" cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-piecesinput formControlName="piece" required="true"
                        (ngModelChange)="onULDPieceChange($event,group,arrivalManifestData,'L')"></ngc-piecesinput>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.weight" dataField="weight" [width]="20" cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-weightinput formControlName="weight" required="true"></ngc-weightinput>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.weightUnit" dataField="weightUnitCode" [width]="30" cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-dropdownlist formControlName="weightUnitCode" sourceId="General$WeightCode" [width]="70"
                        required="true" noBlank="true"></ngc-dropdownlist>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.totalPieces" dataField="totalPieces" [width]="30" cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-piecesinput formControlName="totalPieces"></ngc-piecesinput>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.natureOfGoods" dataField="natureOfGoodsDescription" [width]="50"
                  cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-input formControlName="natureOfGoodsDescription" [width]="130" uppercase='true'
                        required="true" maxlength="15"></ngc-input>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.shc" dataField="specialHandlingCode" [width]="30" cellsAlign="left"
                  [useNotOnDemand]="true">
                  <ng-template let-name="name" let-group="group" let-editable="editable">
                    <ng-container [formGroupName]="group">
                      <ngc-shcinput formArrayName="shc" dataField="specialHandlingCode" [readonly]="!editable">
                      </ngc-shcinput>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.domesticInternational" dataField="handledByDOMINT" [width]="50"
                  cellsAlign="center" align="center" entityAttribute="Awb.DomesticInternationalHandling">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-display formControlName="handledByDOMINT"></ngc-display>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.handledByMasterHouse" dataField="handledByMasterHouse" cellsAlign="left"
                  feature="Imp.Bd.HAWBHandling" [width]="20">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-dropdownlist formControlName="handledByMasterHouse" sourceId="HouseMaster$HouseMasterValues"
                        [dropDownWidth]="20" [width]="20"
                        [disabled]="arrivalManifestData.get(['uldShipments',group,'destination']).value !== airportCode">
                      </ngc-dropdownlist>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="import.nextdest" dataField="carrierDestination" [width]="30" cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-lov formControlName="carrierDestination" sourceId="FINAL_DESTINATION" title="g.destination"
                        dataField='code' [width]="40" maxlength="3" patternName="alpha">
                        <ngc-data-column text="g.source" dataField="code" [width]="100"></ngc-data-column>
                        <ngc-data-column text="g.destination" dataField="desc" [width]="150">
                        </ngc-data-column>
                      </ngc-lov>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
                <ngc-data-column text="agent.createRoutingCarrier" dataField="carrierCode" [width]="30"
                  cellsAlign="left">
                  <ng-template let-name="name" let-group="group">
                    <ng-container [formGroupName]="group">
                      <ngc-lov formControlName="carrierCode" sourceId='CARRIER' title='masters.carrierType' [width]="30"
                        dataField='code' displayMember='code' (select)="onSelect($event)">
                        <ngc-data-column text="masters.carrier" dataField="code" [width]="70">
                        </ngc-data-column>
                        <ngc-data-column text="masters.description" dataField="desc" [width]="100">
                        </ngc-data-column>
                      </ngc-lov>
                    </ng-container>
                  </ng-template>
                </ngc-data-column>
              </ngc-edittable>
            </ngc-column>
          </ngc-row>
        </ng-container>
      </ngc-column>
      <ngc-column column="0.5">
      </ngc-column>
    </ngc-row>
    <ngc-window-footer>
      <ngc-container type="section">
        <ngc-row>
          <ngc-column align="right">
            <ngc-button (click)="onUpdateShipmentSave()" value="g.save"></ngc-button>
          </ngc-column>
        </ngc-row>
      </ngc-container>
    </ngc-window-footer>
  </ngc-window>
</form>
<ngc-footer>

  <ngc-container type="tab">
    <ngc-row>
      <ngc-column *ngIf="isShipmentInformation">
        <ngc-button accessEnableOn="r" label='import.documentVerification' (click)="navigateToDocument()">
        </ngc-button>
      </ngc-column>
    </ngc-row>
  </ngc-container>

</ngc-footer>