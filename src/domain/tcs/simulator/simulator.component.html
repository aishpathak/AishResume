<form [formGroup]="form">
	<ngc-titlebar title="Simulator"></ngc-titlebar>
	<ngc-container type="tab">
		<ngc-row>
			<ngc-column>
				<ngc-tabs>
					<ngc-tab-card title="Simulator">
						<ngc-container>
							<ngc-row>
								<ngc-column>
									<ngc-tabs>
										<ngc-tab-card title="Vehicle At Entry Gate">
											<ngc-container formGroupName="entry">
												<ngc-row>
													<ngc-column>
														<ngc-label label="Kiosk Id"></ngc-label>
														<div>
															<ngc-listbox formControlName="kioskId"
																[sourceId]="entryCheckpointSourceId" [width]="300"
																[height]="150" required>
															</ngc-listbox>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="Vehicle No."></ngc-label>
														<div>
															<ngc-input formControlName="vehicleNo"></ngc-input>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="QR Code"></ngc-label>
														<div>
															<ngc-input formControlName="qrCode"></ngc-input>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="Message Id"></ngc-label>
														<div>
															<ngc-numberinput formControlName="seqNo"
																[decimalDigits]="0"></ngc-numberinput>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="Event Time"></ngc-label>
														<div>
															<ngc-datetimeinput formControlName="timeStamp"
																[showCalendarButton]="true" [showTimeButton]="true">
															</ngc-datetimeinput>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="Photo"></ngc-label>
														<div>
															<ngc-singlephoto formControlName="image"></ngc-singlephoto>
														</div>
													</ngc-column>
													<ngc-column verticalAlign="bottom">
														<ngc-button label="Send" (click)="onVehicleAtEntryGate()">
														</ngc-button>
													</ngc-column>
												</ngc-row>
											</ngc-container>
										</ngc-tab-card>
										<ngc-tab-card title="Vehicle At Exit Gate">
											<ngc-container formGroupName="exit">
												<ngc-row>
													<ngc-column>
														<ngc-label label="Kiosk Id"></ngc-label>
														<div>
															<ngc-listbox [sourceId]="exitCheckpointSourceId"
																[width]="300" [height]="150" required>
															</ngc-listbox>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="Vehicle No."></ngc-label>
														<div>
															<ngc-input formControlName="vehicleNo"></ngc-input>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="QR Code"></ngc-label>
														<div>
															<ngc-input formControlName="qrCode"></ngc-input>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="Message Id"></ngc-label>
														<div>
															<ngc-numberinput formControlName="seqNo"
																[decimalDigits]="0"></ngc-numberinput>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="Event Time"></ngc-label>
														<div>
															<ngc-datetimeinput formControlName="timeStamp"
																[showCalendarButton]="true" [showTimeButton]="true">
															</ngc-datetimeinput>
														</div>
													</ngc-column>
													<ngc-column verticalAlign="bottom">
														<ngc-button label="Send" (click)="onVehicleAtExitGate()">
														</ngc-button>
													</ngc-column>
												</ngc-row>
											</ngc-container>
										</ngc-tab-card>
										<ngc-tab-card title="Press Kiosk Key">
											<ngc-container formGroupName="key">
												<ngc-row>
													<ngc-column>
														<ngc-label label="Kiosk Id"></ngc-label>
														<div>
															<ngc-listbox formControlName="kioskId"
																[sourceId]="checkpointSourceId" [width]="300"
																[height]="350" required>
															</ngc-listbox>
														</div>
													</ngc-column>
													<ngc-column verticalAlign="middle">
														<ngc-container>
															<ngc-row>
																<ngc-column>
																	<ngc-button label="1"
																		(click)="onKioskKeyPress('1')"></ngc-button>
																</ngc-column>
																<ngc-column>
																	<ngc-button label="6"
																		(click)="onKioskKeyPress('6')"></ngc-button>
																</ngc-column>
															</ngc-row>
															<ngc-row>
																<ngc-column>
																	<ngc-button label="2"
																		(click)="onKioskKeyPress('2')"></ngc-button>
																</ngc-column>
																<ngc-column>
																	<ngc-button label="7"
																		(click)="onKioskKeyPress('7')"></ngc-button>
																</ngc-column>
															</ngc-row>
															<ngc-row>
																<ngc-column>
																	<ngc-button label="3"
																		(click)="onKioskKeyPress('3')"></ngc-button>
																</ngc-column>
																<ngc-column>
																	<ngc-button label="8"
																		(click)="onKioskKeyPress('8')"></ngc-button>
																</ngc-column>
															</ngc-row>
															<ngc-row>
																<ngc-column>
																	<ngc-button label="4"
																		(click)="onKioskKeyPress('4')"></ngc-button>
																</ngc-column>
																<ngc-column>
																	<ngc-button label="9"
																		(click)="onKioskKeyPress('9')"></ngc-button>
																</ngc-column>
															</ngc-row>
															<ngc-row>
																<ngc-column>
																	<ngc-button label="5"
																		(click)="onKioskKeyPress('5')"></ngc-button>
																</ngc-column>
																<ngc-column>
																	<ngc-button label="10"
																		(click)="onKioskKeyPress('10')"></ngc-button>
																</ngc-column>
															</ngc-row>
														</ngc-container>
													</ngc-column>
												</ngc-row>
											</ngc-container>
										</ngc-tab-card>
										<ngc-tab-card title="Checkpoint Event">
											<ngc-container formGroupName="checkpoint">
												<ngc-row>
													<ngc-column>
														<ngc-label label="Kiosk Id"></ngc-label>
														<div>
															<ngc-listbox formControlName="kioskId"
																[sourceId]="checkpointSourceId" [width]="300"
																[height]="350" required>
															</ngc-listbox>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="Vehicle No."></ngc-label>
														<div>
															<ngc-input formControlName="vehicleNo"></ngc-input>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="Message Id"></ngc-label>
														<div>
															<ngc-numberinput formControlName="seqNo"
																[decimalDigits]="0"></ngc-numberinput>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="Event Time"></ngc-label>
														<div>
															<ngc-datetimeinput formControlName="timeStamp"
																[showCalendarButton]="true" [showTimeButton]="true">
															</ngc-datetimeinput>
														</div>
													</ngc-column>
													<ngc-column verticalAlign="bottom">
														<ngc-button label="Send" (click)="onLogEvent()"></ngc-button>
													</ngc-column>
												</ngc-row>
											</ngc-container>
										</ngc-tab-card>
										<ngc-tab-card title="Dock Status">
											<ngc-container formGroupName="dock">
												<ngc-row>
													<ngc-column>
														<ngc-label label="Kiosk Id"></ngc-label>
														<div>
															<ngc-listbox formControlName="kioskId"
																[sourceId]="blankCheckpointSourceId" [width]="300"
																[height]="100" required>
															</ngc-listbox>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="Vehicle No."></ngc-label>
														<div>
															<ngc-input formControlName="vehicleNo"></ngc-input>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="Dock No."></ngc-label>
														<div>
															<ngc-input formControlName="dockId"></ngc-input>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="Status"></ngc-label>
														<div>
															<ngc-input formControlName="status"></ngc-input>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="Message Id"></ngc-label>
														<div>
															<ngc-numberinput [decimalDigits]="0"></ngc-numberinput>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="Event Time"></ngc-label>
														<div>
															<ngc-datetimeinput formControlName="timeStamp"
																[showCalendarButton]="true" [showTimeButton]="true">
															</ngc-datetimeinput>
														</div>
													</ngc-column>
													<ngc-column verticalAlign="bottom">
														<ngc-button label="Send" (click)="onUpdateDockStatus()">
														</ngc-button>
													</ngc-column>
												</ngc-row>
											</ngc-container>
										</ngc-tab-card>
										<ngc-tab-card title="Kiosk Status">
											<ngc-container formGroupName="kiosk">
												<ngc-row>
													<ngc-column>
														<ngc-label label="Kiosk Id"></ngc-label>
														<div>
															<ngc-listbox formControlName="kioskId"
																[sourceId]="checkpointSourceId" [width]="300"
																[height]="350" required>
															</ngc-listbox>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="Message Id"></ngc-label>
														<div>
															<ngc-numberinput formControlName="seqNo"
																[decimalDigits]="0"></ngc-numberinput>
														</div>
													</ngc-column>
													<ngc-column>
														<ngc-label label="Event Time"></ngc-label>
														<div>
															<ngc-datetimeinput formControlName="timeStamp"
																[showCalendarButton]="true" [showTimeButton]="true">
															</ngc-datetimeinput>
														</div>
													</ngc-column>
													<ngc-column verticalAlign="bottom">
														<ngc-button label="Send" (click)="onUpdateKioskStatus()">
														</ngc-button>
													</ngc-column>
												</ngc-row>
											</ngc-container>
										</ngc-tab-card>
									</ngc-tabs>
								</ngc-column>
							</ngc-row>
						</ngc-container>
					</ngc-tab-card>
					<ngc-tab-card title="Device Events">
						<ngc-container type="tab" formGroupName="device">
							<ngc-row>
								<ngc-column>
									<ngc-container>
										<ngc-row>
											<ngc-column>
												<ngc-label label="Trigger"></ngc-label>
												<div>
													<ngc-listbox formControlName="trigger" [sourceId]="triggerSourceId"
														[width]="200" [height]="200" (select)="onTriggerSelect($event)"
														required>
													</ngc-listbox>
												</div>
											</ngc-column>
											<ngc-column>
												<ngc-label label="Checkpoint Device"></ngc-label>
												<div>
													<ngc-listbox formControlName="device"
														[sourceId]="currentCheckpointSourceId" [width]="300"
														[height]="400" required>
													</ngc-listbox>
												</div>
											</ngc-column>
										</ngc-row>
									</ngc-container>
								</ngc-column>
								<ngc-column>
									<ngc-container>
										<ngc-row>
											<ngc-column [column]="2">
												<ngc-label label="Vehicle"></ngc-label>
												<div>
													<ngc-input formControlName="vehicleNo" [width]="100">
													</ngc-input>
												</div>
											</ngc-column>
											<ngc-column *ngIf="currentTrigger == 'OCCUPY' || currentTrigger == 'LEAVE'"
												[column]="2">
												<ngc-label label="Dock"></ngc-label>
												<div>
													<ngc-input formControlName="dockNo" [width]="100">
													</ngc-input>
												</div>
											</ngc-column>
											<ngc-column verticalAlign="bottom">
												<ngc-button label="Trigger" (click)="onTrigger()"></ngc-button>
												<ngc-button label="Information" (click)="onTrip(tripWindow)">
												</ngc-button>
											</ngc-column>
										</ngc-row>
										<ngc-row *ngIf="declare">
											<ngc-column [column]="4">
												<ngc-label label="Purpose"></ngc-label>
												<div>
													<ngc-listbox formControlName="purpose" [width]="200" [height]="400"
														[sourceId]="purposeSourceId">
													</ngc-listbox>
												</div>
											</ngc-column>
											<ngc-column>
												<ngc-label label="Purpose Company"></ngc-label>
												<div>
													<ngc-input formControlName="purposeCompanyId" [width]="200"
														sourceId="COMPANY" valueMember="code" displayMember="desc">
													</ngc-input>
												</div>
											</ngc-column>
										</ngc-row>
									</ngc-container>
								</ngc-column>
							</ngc-row>
						</ngc-container>
					</ngc-tab-card>
					<ngc-tab-card title="Generate Slots">
						<ngc-container type="tab">
							<ngc-row>
								<ngc-column verticalAlign="bottom">
									<div>
										<ngc-button label="Generate Slots" (click)="onGenerateSlots()">
										</ngc-button>
									</div>
								</ngc-column>
							</ngc-row>
						</ngc-container>
					</ngc-tab-card>
					<ngc-tab-card title="Free Slots">
						<ngc-container type="tab" formGroupName="slot">
							<ngc-row>
								<ngc-column>
									<ngc-container>
										<ngc-row>
											<ngc-column [column]="2">
												<ngc-label label="Duration"></ngc-label>
												<div>
													<ngc-numberinput formControlName="slotDuration" [width]="100"
														[decimalDigits]="0" required>
													</ngc-numberinput>
												</div>
											</ngc-column>
											<ngc-column verticalAlign="bottom">
												<div>
													<ngc-button label="Free Slots"
														(click)="onFreeSlots(timeSlotComponent)">
													</ngc-button>
												</div>
											</ngc-column>
										</ngc-row>
										<ngc-row>
											<ngc-column [column]="3">
												<ngc-label label="Purpose"></ngc-label>
												<div>
													<ngc-dropdownlist formControlName="slotPurpose" [width]="200"
														[sourceId]="purposeSourceId" required>
													</ngc-dropdownlist>
												</div>
											</ngc-column>
										</ngc-row>
										<ngc-row>
											<ngc-column [column]="3">
												<ngc-label label="Terminal"></ngc-label>
												<div>
													<ngc-dropdownlist formControlName="terminal" [width]="100"
														sourceId="TCS$TERMINAL">
													</ngc-dropdownlist>
												</div>
											</ngc-column>
										</ngc-row>
										<ngc-row>
											<ngc-column [column]="3">
												<ngc-label label="Level"></ngc-label>
												<div>
													<ngc-dropdownlist formControlName="level" [width]="100"
														sourceId="TCS$FLOOR">
													</ngc-dropdownlist>
												</div>
											</ngc-column>
										</ngc-row>
										<ngc-row>
											<ngc-column [column]="3">
												<ngc-label label="Zone"></ngc-label>
												<div>
													<ngc-dropdownlist formControlName="zone" [width]="100"
														sourceId="TCS$ZONE">
													</ngc-dropdownlist>
												</div>
											</ngc-column>
										</ngc-row>
										<ngc-row>
											<ngc-column [column]="3">
												<ngc-label label="Vehicle Type"></ngc-label>
												<div>
													<ngc-dropdownlist formControlName="vehicleType" [width]="100"
														sourceId="TCS$VEHICLE_LENGTH">
													</ngc-dropdownlist>
												</div>
											</ngc-column>
										</ngc-row>
									</ngc-container>
								</ngc-column>
							</ngc-row>
						</ngc-container>
					</ngc-tab-card>
				</ngc-tabs>
			</ngc-column>
		</ngc-row>
	</ngc-container>
	<ngc-window #tripWindow title="Trip" [width]="1000" [height]="560">
		<ngc-container type="section" formGroupName="trip">
			<ngc-row>
				<ngc-column>
					<ngc-label label="Trip Id"></ngc-label>
					<div>
						<ngc-display formControlName="tripId"></ngc-display>
					</div>
				</ngc-column>
				<ngc-column>
					<ngc-label label="Vehicle No"></ngc-label>
					<div>
						<ngc-display formControlName="vehicleNo"></ngc-display>
					</div>
				</ngc-column>
				<ngc-column>
					<ngc-label label="Dock"></ngc-label>
					<div>
						<ngc-display formControlName="allocatedResourceCode"></ngc-display>
					</div>
				</ngc-column>
				<ngc-column>
					<ngc-label label="Location"></ngc-label>
					<div>
						<ngc-display formControlName="currentLocation"></ngc-display>
					</div>
				</ngc-column>
				<ngc-column>
					<ngc-label label="Status"></ngc-label>
					<div>
						<ngc-display formControlName="status"></ngc-display>
					</div>
				</ngc-column>
				<ngc-column>
					<ngc-label label="Photo"></ngc-label>
					<div>
						<ngc-image formControlName="vehicleImage" [height]="60"></ngc-image>
					</div>
				</ngc-column>
			</ngc-row>
		</ngc-container>
		<ngc-container type="section" formGroupName="trip">
			<ngc-row>
				<ngc-column>
					<ngc-datatable formArrayName="events">
						<ngc-data-column text="Type" dataField="eventType" [width]="10"></ngc-data-column>
						<ngc-data-column text="Code" dataField="eventCode" [width]="20"></ngc-data-column>
						<ngc-data-column text="Value" dataField="eventInfo" [width]="20"></ngc-data-column>
						<ngc-data-column text="Location" dataField="eventLocation" [width]="10"></ngc-data-column>
						<ngc-data-column text="Time" dataField="eventDateTime" type="displayDateTime" [width]="20">
						</ngc-data-column>
					</ngc-datatable>
				</ngc-column>
			</ngc-row>
		</ngc-container>
		<ngc-window-footer>
			<ngc-container>
				<ngc-row>
					<ngc-column align="right">
						<ngc-button label="Close" (click)="onClose(tripWindow)"></ngc-button>
					</ngc-column>
				</ngc-row>
			</ngc-container>
		</ngc-window-footer>
	</ngc-window>
	<tcs-time-slot #timeSlotComponent></tcs-time-slot>
</form>