<form [formGroup]="truckDockMaintenceForm">
  <ngc-titlebar [title]="title" (save)="onSave($event)" [disableSave]="active" [disableClear]="active">
  </ngc-titlebar>
  <ngc-container type="section">
    <ngc-row>
      <ngc-column [column]="2">
        <ngc-label label="tcs.templateName"></ngc-label>
        <div>
          <ngc-input *ngIf="createPage" formControlName="templateCode" patternName="alphanum" [maxlength]="32">
          </ngc-input>
          <ngc-display *ngIf="!createPage" formControlName="templateCode"></ngc-display>
        </div>
      </ngc-column>
      <ngc-column [column]="2">
        <ngc-label label="tcs.templateDescription"></ngc-label>
        <div>
          <ngc-input formControlName="description" patternName="alphanum" [maxlength]="32"></ngc-input>
        </div>
      </ngc-column>
    </ngc-row>
  </ngc-container>
  <ngc-container *ngIf="show" type="tab">
    <ngc-row>
      <ngc-column>
        <ngc-edittable formArrayName="resources">
          <ngc-data-column text="tcs.active" dataField="active" cellsAlign="center" [width]="40" align="center">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-switchbutton formControlName="active" (modelChange)="onActiveClick($event, group)">
                </ngc-switchbutton>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column text="tcs.zone" [width]="40" dataField="desc">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-dropdownlist formControlName="zoneId" sourceId="TCS$ZONE" [width]="40" required>
                </ngc-dropdownlist>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column text="tcs.dockNo" [width]="60" dataField="desc">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-display formControlName="resourceCode"></ngc-display>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column text="tcs.characteristics" [width]="60" dataField="characteristicCode">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-dropdownlist formControlName="characteristicCode" sourceId="DOCK_CHARACTERISTIC" sourceType='query'
                  [width]='190' required>
                </ngc-dropdownlist>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column text="tcs.airline" [width]="100" dataField="code">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-taginput formControlName="carrierCode" [width]='75' sourceCategory="lov" sourceId="CARRIER"
                  sourceType='query' displayMember="code" valueMember='code'>
                </ngc-taginput>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column text="tcs.country" dataField="country" [width]='100'>
            <ng-template let-data let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-taginput formControlName="countryCode" [width]='75' sourceCategory="lov" sourceId='COUNTRY'
                  sourceType='query' displayMember="code" valueMember='code' (modelChange)="onCountrySelect(group)">
                </ngc-taginput>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column text="tcs.dest" dataField="city" [width]='100'>
            <ng-template let-data let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-taginput formControlName='cityCode' [width]='75' sourceCategory="lov" sourceId='CITY'
                  sourceType='query' displayMember="code" valueMember='code' (modelChange)="onDestSelect(group)">
                </ngc-taginput>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column text="tcs.xray" dataField="xray" cellsAlign="center" [width]="40" type="icon"
            iconType="yesno" align="center">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-checkbox formControlName="xray"></ngc-checkbox>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column text="tcs.booking" dataField="booking" cellsAlign="center" [width]="40">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-checkbox formControlName="booking" (modelChange)="onBookingSelect(group)"></ngc-checkbox>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column text="tcs.walkin" dataField="walkin" cellsAlign="center" [width]="40">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-checkbox formControlName="walkin" (modelChange)="onWalkinSelect(group)"></ngc-checkbox>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column text="tcs.topUrgent" dataField="urgent" cellsAlign="center" [width]="40" type="icon"
            iconType="yesno" align="center">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-checkbox formControlName="urgent"></ngc-checkbox>
              </ng-container>
            </ng-template>
          </ngc-data-column>
          <ngc-data-column text="tcs.customsClearance" dataField="customs" cellsAlign="center" [width]="40" type="icon"
            iconType="yesno" align="center">
            <ng-template let-name="name" let-group="group">
              <ng-container [formGroupName]="group">
                <ngc-checkbox formControlName="customs"></ngc-checkbox>
              </ng-container>
            </ng-template>
          </ngc-data-column>
        </ngc-edittable>
      </ngc-column>
    </ngc-row>
  </ngc-container>
</form>